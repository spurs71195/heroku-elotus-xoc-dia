window.__require=function t(e,o,n){function i(s,a){if(!o[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=o[s]={exports:{}};e[s][0].call(l.exports,function(t){return i(e[s][1][t]||t)},l,l.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({APIConnector:[function(t,e,o){"use strict";cc._RF.push(e,"af72f6nUMVGuI8CrwbC8XBo","APIConnector");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.ResponseHistoryRecord=o.ResponseGameInfoBetPosition=o.ResponseShowResultInfo=o.ResponseGameInfo=o.RequestBetItem=o.ResponseBet=o.RequestBet=o.ResponseUserBalancePage=o.ResponseUserBalanceLinks=o.ResponseUserBalanceBalance=o.ResponseUserBalanceEmbedded=o.ResponseUserBalance=o.ResponseUserInfo=o.ResponseLogin=o.ResponseError=void 0;var i=cc._decorator.ccclass,r=t("../DataManager"),s=t("../data/ToastController"),a=t("../data/LoadingCanvas"),c=function(){function t(){}var e;return e=t,Object.defineProperty(t,"Instance",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!1,configurable:!0}),t.prototype.sendHTTPRequest=function(t,o,n,i){var s=JSON.stringify(o),a=new XMLHttpRequest,c=e.Url+t;a.open(o?"POST":"GET",c,!0),a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var t=a.responseText;console.log("Request: "+c+"\nData: "+s+"\nResponse: "+t),n(t)}else i&&i(a.responseText)},a.setRequestHeader("Accept","application/json, text/plain, */*"),a.setRequestHeader("Accept","text/plain"),a.setRequestHeader("Accept","*/*"),a.setRequestHeader("Content-Type","application/json");var u=r.default.Instance.LoginData;u&&a.setRequestHeader("Authorization",u.token_type+" "+u.access_token),o?a.send(s):a.send()},t.prototype.send=function(t,e,o,n){a.default.Instance.show(),this.sendHTTPRequest(t,e,function(t){try{var e=JSON.parse(t);if(e&&o)o(e);else if(!e&&n){var i="C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!";s.default.Instance.showToast(i,s.ToastType.Error),n(i)}}catch(r){throw n&&(i="C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!",s.default.Instance.showToast(i,s.ToastType.Error),n(i)),r}finally{a.default.Instance.hide()}},function(t){var e,o=JSON.parse(t),i="C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!";switch(null!==(e=null==o?void 0:o.code)&&void 0!==e?e:999){case 3001:i="H\u1ebft th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c, vui l\xf2ng th\u1eed l\u1ea1i sau";break;case 3002:i="Kh\xf4ng \u0111\u1ee7 ti\u1ec1n!";break;case 3003:i="Th\xf4ng tin t\xe0i to\u1ea3n kh\xf4ng h\u1ee3p l\u1ec7!";break;case 3004:i="Kh\xf4ng th\u1ec3 \u0111\u1eb7t c\u01b0\u1ee3c v\xe0o CH\u1eb4N v\xe0 L\u1eba";break;case 3101:case 3102:case 999:i="C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!"}s.default.Instance.showToast(i,s.ToastType.Error),n&&n(i),a.default.Instance.hide()})},t.prototype.sendWithRawResponse=function(t,e,o,n){this.sendHTTPRequest(t,e,function(t){try{var e=t;e&&o?o(e):!e&&n&&n("ERROR: DATA IS NULL")}catch(i){throw console.log(i),n&&n(i.toString()),i}},function(t){n&&n(t)})},t.prototype.Login=function(t,o,n,i){var r={username:t,password:o};this.sendWithRawResponse(e.ApiLogin,r,n,i)},t.prototype.GetUserInfo=function(t,o){this.send(e.ApiGetUserInfo,null,t,o)},t.prototype.GetUserBalance=function(t,o){this.send(e.ApiGetUserBalance,null,t,o)},t.prototype.GetGameInfo=function(t,o){this.send(e.ApiGetGameInfo,null,t,o)},t.prototype.GetHistory=function(t,o){this.send(e.ApiGetHistory,null,t,o)},t.prototype.RequestBet=function(t,o,n){this.send(e.ApiRequestBet,t,o,n)},t.ApiLogin="api/auth/users/signin",t.ApiGetUserInfo="account/accounts/me/userinfo",t.ApiGetUserBalance="account/balances/me",t.ApiGetGameInfo="minigame/xd-game/game-info",t.ApiGetHistory="minigame/xd-game/history100",t.ApiRequestBet="minigame/xd-game/bet",t.Url="http://35.198.237.6/",t.instance=null,e=n([i],t)}();o.default=c;o.ResponseError=function(){};o.ResponseLogin=function(){};o.ResponseUserInfo=function(){};o.ResponseUserBalance=function(){};o.ResponseUserBalanceEmbedded=function(){};o.ResponseUserBalanceBalance=function(){};o.ResponseUserBalanceLinks=function(){};o.ResponseUserBalancePage=function(){};o.RequestBet=function(){this.listBetItems=[]};o.ResponseBet=function(){};o.RequestBetItem=function(){};o.ResponseGameInfo=function(){};o.ResponseShowResultInfo=function(){};o.ResponseGameInfoBetPosition=function(){};o.ResponseHistoryRecord=function(){},cc._RF.pop()},{"../DataManager":"DataManager","../data/LoadingCanvas":"LoadingCanvas","../data/ToastController":"ToastController"}],ArrayUtils:[function(t,e,o){"use strict";cc._RF.push(e,"2f5faYXcAtDQLB77UnLKVrw","ArrayUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Utils");Array.prototype.getRandomElementAndRemove=function(t){for(var e=[];e.length<t&&this.length>0;){var o=n.Utils.getRandomInt(0,this.length);e.push(this[o]),this.slice(o,1)}return e},Array.prototype.remove=function(t){var e=this.indexOf(t);return e>-1&&this.slice(e,1),this},Array.prototype.contain=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return!0;return!1},Array.prototype.addRange=function(t){for(var e=0,o=t;e<o.length;e++){var n=o[e];this.push(n)}return this},cc._RF.pop()},{"./Utils":"Utils"}],Callback:[function(t,e,o){"use strict";cc._RF.push(e,"5456aFaFJ9IBZF0J4Vg8OJ+","Callback"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ChipInfoChipItem:[function(t,e,o){"use strict";cc._RF.push(e,"57c07JYKpNFXqCxGzOhX1BI","ChipInfoChipItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc.SpriteFrame,a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprIcon=null,e.amount=0,e}return i(e,t),e.prototype.VndAmount=function(){return 1e3*this.amount},r([u(s)],e.prototype,"sprIcon",void 0),r([u()],e.prototype,"amount",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ChipInfo:[function(t,e,o){"use strict";cc._RF.push(e,"b27e02HfVFAqpEv1WwbmBOV","ChipInfo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ChipInfoChipItem"),c=cc._decorator,u=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chipInfos=[],e}return i(e,t),e.prototype.getChipInfo=function(t){for(var e=null,o=0,n=this.chipInfos;o<n.length;o++){var i=n[o];if(i.amount==t){e=i;break}}return e},e.prototype.convertAmountToChipInfos=function(t,e){void 0===e&&(e=Number.MAX_SAFE_INTEGER);var o=[];if(this.chipInfos.length<=0)return o;for(var n=t,i=this.chipInfos.length-1;i>=0;i--){var r=this.chipInfos[i];if(!(r.amount>e||n<r.amount))for(var s=Math.floor(n/r.amount),a=0;a<s;a++)o.push(r),n-=r.amount}return o},e.prototype.getAvailableChipsFromTotalAmount=function(t){var e=[],o=s(this.chipInfos);o.sort(function(t,e){return t.amount>e.amount?-1:e.amount>t.amount?1:0});for(var n=t;;){for(var i=10,r=0,a=0,c=o;a<c.length;a++){var u=c[a];if(!(n<u.amount)){i=u.amount,r=n/u.amount,n-=i;break}}if(n>0&&n<10&&(r++,n=0),r<=0)break;e.push(i)}return e},e.prototype.getAllChipsInAmountRange=function(t,e){var o=[],n=s(this.chipInfos);n.sort(function(t,e){return t.amount>e.amount?1:e.amount>t.amount?-1:0});for(var i=0,r=n;i<r.length;i++){var a=r[i];a.amount>=t&&a.amount<=e&&o.push(a)}return o},r([l([a.default])],e.prototype,"chipInfos",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./ChipInfoChipItem":"ChipInfoChipItem"}],ChipObjectUtils:[function(t,e,o){"use strict";cc._RF.push(e,"e8bb0KMf6dP6Zu+K+2O2M0L","ChipObjectUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.ChipObjectUtils=void 0;var n=cc.Vec2,i=function(){function t(){}return t.moveTo=function(t,e,o,i,r,s,a){void 0===r&&(r=!0),void 0===s&&(s=null),void 0===a&&(a=null);for(var c=this.MoveChipDelay,u=function(u){var l=t[u],h=0==u?s:u==t.length-1?a:null,p=new n(o.x,o.y);r&&(p.x+=60*Math.random(),p.y+=60*Math.random()),l.moveTo(e,p,function(){i&&l.enqueue(),h&&h()},c),c/=2},l=0;l<t.length;l++)u(l)},t.moveFromCurrentPositionTo=function(t,e,o,i,r,s){void 0===i&&(i=!0),void 0===r&&(r=null),void 0===s&&(s=null);for(var a=this.MoveChipDelay,c=function(c){var u=t[c],l=0==c?r:c==t.length-1?s:null,h=new n(e.x,e.y);i&&(h.x+=60*Math.random(),h.y+=60*Math.random()),u.moveFromCurrentPositionTo(h,function(){o&&u.enqueue(),l&&l()},a),a/=2},u=0;u<t.length;u++)c(u)},t.moveAndStackTo=function(t,e,o,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);for(var s=function(s){var c=t[s],u=0==s?i:s==t.length-1?r:null,l=s/t.length*a.MoveChipDelay,h=o;h.y+=s*a.ChipStackOffset,c.node.getParent()&&c.node.setSiblingIndex(c.node.getParent().childrenCount-1),c.moveTo(e,h,function(){n&&c.enqueue(),u()&&u()},l)},a=this,c=0;c<t.length;c++)s(c)},t.moveFromCurrentPositionAndStackTo=function(t,e,o,n,i){void 0===n&&(n=null),void 0===i&&(i=null);for(var r=function(r){var a=t[r],c=0==r?n:r==t.length-1?i:null,u=r/t.length*s.MoveChipDelay,l=e;l.y+=r*s.ChipStackOffset,a.node.getParent()&&a.node.setSiblingIndex(a.node.getParent().childrenCount-1),a.moveFromCurrentPositionTo(l,function(){o&&a.enqueue(),c()&&c()},u)},s=this,a=0;a<t.length;a++)r(a)},t.MoveChipDelay=.03,t.MoveChipDuration=.25,t.ChipStackOffset=2,t}();o.ChipObjectUtils=i,cc._RF.pop()},{}],ChipObject:[function(t,e,o){"use strict";cc._RF.push(e,"ad6aeH4D1VMTY60JwYgMK6z","ChipObject");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../utils/LiteEvent"),a=t("../utils/Utils"),c=cc.Vec2,u=cc._decorator,l=u.ccclass,h=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.OnEnqueueEvent=new s.LiteEvent,e.MoveChipDelay=.03,e.MoveChipDuration=.25,e.ChipStackOffset=.02,e.moveAction=null,e}return i(e,t),Object.defineProperty(e.prototype,"ChipAmount",{get:function(){return this.chipAmount},enumerable:!1,configurable:!0}),e.prototype.setAmount=function(t){this.chipAmount=t,a.Utils.FormatChipForLabel(this.txtValue,this.chipAmount)},e.prototype.setRespectiveStackAmount=function(t){a.Utils.FormatChipForLabel(this.txtValue,t)},e.prototype.enqueue=function(){this.OnEnqueueEvent.trigger(this)},e.prototype.moveFromCurrentPositionTo=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=0),this.moveTo(new c(this.node.position.x,this.node.position.y),t,e,o,!1)},e.prototype.moveTo=function(t,e,o,n,i,r){void 0===o&&(o=null),void 0===n&&(n=0),void 0===i&&(i=!0),void 0===r&&(r=!0),null!=this.moveAction&&(this.moveAction.isDone()||null==this.moveAction.getOriginalTarget()||this.node.stopAction(this.moveAction));var s=i?this.node.parent.convertToNodeSpaceAR(t):t,a=r?this.node.parent.convertToNodeSpaceAR(e):e,u=this;this.node.position=new cc.Vec3(s.x,s.y,this.node.position.z);var l=cc.sequence(cc.delayTime(n),cc.moveTo(this.MoveChipDuration,new c(a.x,a.y)),cc.callFunc(function(){o&&o(),u.moveAction=null},this));this.moveAction=l,this.node.runAction(l)},r([h(cc.Sprite)],e.prototype,"imgChip",void 0),r([h(cc.Label)],e.prototype,"txtValue",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../utils/LiteEvent":"LiteEvent","../utils/Utils":"Utils"}],ChipPoolController:[function(t,e,o){"use strict";cc._RF.push(e,"d6b28e1qR1BO6TAHiiW8Lsa","ChipPoolController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./ChipObject"),a=t("typescript-collections"),c=cc.Vec2,u=cc.Vec3,l=t("./ChipInfo"),h=cc._decorator,p=h.ccclass,f=h.property,d=function(t){function e(){var e=t.call(this)||this;return e.chipInfo=null,e.chipPrefab=null,e.chipContainer=null,e.pool=new a.Queue,e.activeChips=[],e.enqueue=e.enqueue.bind(e),e}return i(e,t),Object.defineProperty(e.prototype,"GetActiveChips",{get:function(){return this.activeChips},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.chipInfo=this.chipInfo.getComponent(l.default)},e.prototype.createChip=function(t,e,o){void 0===e&&(e=c.ZERO),void 0===o&&(o=this.chipContainer);var n=this.getOrCreateChip();return n.setAmount(t),n.node.setParent(o),n.node.position=new u(e.x,e.y,this.node.position.z),n.node.setSiblingIndex(n.node.getParent().childrenCount-1),n},e.prototype.createChipsWithAmount=function(t,e){void 0===e&&(e=Number.MAX_SAFE_INTEGER);for(var o=[],n=0,i=this.chipInfo.convertAmountToChipInfos(t,e);n<i.length;n++){var r=i[n],s=this.createChip(r.amount);o.push(s)}return o},e.prototype.getOrCreateChip=function(){var t=(this.pool.size()>0?this.pool.dequeue():cc.instantiate(this.chipPrefab)).getComponent(s.default);return t.node.active=!0,t.OnEnqueueEvent.on(this.enqueue),this.activeChips.push(t),t},e.prototype.enqueue=function(t){t.node.active=!1,t.OnEnqueueEvent.off(this.enqueue);var e=this.activeChips.indexOf(t);e>-1&&this.activeChips.slice(e,1),this.pool.enqueue(t)},e.prototype.enqueueMany=function(t){for(var e=0,o=t;e<o.length;e++){var n=o[e];this.enqueue(n)}},e.prototype.enqueueAllActiveChip=function(){for(var t=this.activeChips.length-1;t>=0;t--)this.enqueue(this.activeChips[t])},e.prototype.showFlyChipEffectWithAmount=function(t,e,o,n,i){void 0===n&&(n=null),void 0===i&&(i=null);for(var r,s=!1,a=this.chipInfo.getAvailableChipsFromTotalAmount(t),c=20,u=function(t){if(c<=0)return"break";c--,r=l.createChip(t,l.chipContainer.convertToNodeSpaceAR(e));var i=l;r.moveFromCurrentPositionTo(o,function(){i.enqueue(r),s||(n&&n(),s=!0)})},l=this,h=0,p=a;h<p.length&&"break"!==u(p[h]);h++);i&&i()},e.prototype.splitChipObjectsFromPool=function(t){for(var e=this.activeChips,o=[],n=t,i=e.length-1;i>=0;i--)n>=e[i].ChipAmount&&(n-=e[i].ChipAmount,o.push(e[i]),e.splice(i,1));return o},r([f(cc.Node)],e.prototype,"chipInfo",void 0),r([f(cc.Node)],e.prototype,"chipPrefab",void 0),r([f(cc.Node)],e.prototype,"chipContainer",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./ChipInfo":"ChipInfo","./ChipObject":"ChipObject","typescript-collections":16}],ColorAssembler2D:[function(t,e,o){"use strict";cc._RF.push(e,"2e129NVa8ZGspah5mBhFC0o","ColorAssembler2D");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=s.executeInEditMode,l=s.requireComponent,h=s.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._colors=[],e}return i(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return this._colors},set:function(t){this._colors=t,this._updateColors()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},e.prototype.onDisable=function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},e.prototype._updateColors=function(){var t=this.getComponent(cc.RenderComponent);if(t){var e=t._assembler;if(e instanceof cc.Assembler2D){var o=e._renderData.uintVDatas[0];if(o)for(var n=this.node.color,i=e.floatsPerVert,r=0,s=e.colorOffset,a=o.length;s<a;s+=i)o[s]=(this.colors[r++]||n)._val}}},r([c],e.prototype,"_colors",void 0),r([c({type:[cc.Color]})],e.prototype,"colors",null),r([a,u,l(cc.RenderComponent),h("i18n:MAIN_MENU.component.renderers/ColorAssembler2D-lamyoung.com")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ColorOverTime:[function(t,e,o){"use strict";cc._RF.push(e,"232fcxvWaBNXpSSigh9Z4ds","ColorOverTime");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=.5,e.colors=[],e.colorIndex=0,e}return i(e,t),e.prototype.onLoad=function(){this.nextColor=this.nextColor.bind(this)},e.prototype.onEnable=function(){this.nextColor()},e.prototype.nextColor=function(){this.colorIndex++,this.colors.length>0&&(this.tween=cc.tween(this.node).to(this.duration,{color:this.colors[this.colorIndex%this.colors.length],opacity:this.colors[this.colorIndex%this.colors.length].a}).call(this.nextColor).start())},e.prototype.onDisable=function(){this.tween&&this.tween.stop()},r([c(cc.Integer)],e.prototype,"duration",void 0),r([c([cc.Color])],e.prototype,"colors",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],1:[function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t("./BSTreeKV").default);o.default=r},{"./BSTreeKV":2}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./Queue"),r=function(){function t(t){this.root=null,this.compare=t||n.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!n.isUndefined(t)&&null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0)},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!n.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var e=this.searchNode(this.root,t);if(null!==e)return e.element},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(e){return t.push(e),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var o=1;null!==t&&0!==o;)(o=this.compare(e,t.element))<0?t=t.leftCh:o>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,o){null===t||o.stop||(this.inorderTraversalAux(t.leftCh,e,o),o.stop||(o.stop=!1===e(t.element),o.stop||this.inorderTraversalAux(t.rightCh,e,o)))},t.prototype.levelTraversalAux=function(t,e){var o=new i.default;for(null!==t&&o.enqueue(t),t=o.dequeue()||null;null!=t;){if(!1===e(t.element))return;null!==t.leftCh&&o.enqueue(t.leftCh),null!==t.rightCh&&o.enqueue(t.rightCh),t=o.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,e,o){null===t||o.stop||(o.stop=!1===e(t.element),o.stop||(this.preorderTraversalAux(t.leftCh,e,o),o.stop||this.preorderTraversalAux(t.rightCh,e,o)))},t.prototype.postorderTraversalAux=function(t,e,o){null===t||o.stop||(this.postorderTraversalAux(t.leftCh,e,o),o.stop||(this.postorderTraversalAux(t.rightCh,e,o),o.stop||(o.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,o=this.root;null!==o;){var n=this.compare(t.element,o.element);if(0===n)return null;n<0?(e=o,o=o.leftCh):(e=o,o=o.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();o.default=r},{"./Queue":12,"./util":17}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./Dictionary"),r=t("./Set"),s=function(){function t(t){this.toStrF=t||n.defaultToString,this.dictionary=new i.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,e){if(void 0===e&&(e=1),n.isUndefined(t)||e<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=e;else{var o={value:t,copies:e};this.dictionary.setValue(t,o)}return this.nElements+=e,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,e){if(void 0===e&&(e=1),n.isUndefined(t)||e<=0)return!1;if(this.contains(t)){var o=this.dictionary.getValue(t);return e>o.copies?this.nElements-=o.copies:this.nElements-=e,o.copies-=e,o.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],e=0,o=this.dictionary.values();e<o.length;e++)for(var n=o[e],i=n.value,r=n.copies,s=0;s<r;s++)t.push(i);return t},t.prototype.toSet=function(){for(var t=new r.default(this.toStrF),e=0,o=this.dictionary.values();e<o.length;e++){var n=o[e].value;t.add(n)}return t},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,o){for(var n=o.value,i=o.copies,r=0;r<i;r++)if(!1===t(n))return!1;return!0})},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();o.default=s},{"./Dictionary":4,"./Set":13,"./util":17}],4:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||n.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!n.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!n.isUndefined(t)&&!n.isUndefined(e)){var o,i="$"+this.toStr(t),r=this.table[i];return n.isUndefined(r)?(this.nElements++,o=void 0):o=r.value,this.table[i]={key:t,value:e},o}},t.prototype.remove=function(t){var e="$"+this.toStr(t),o=this.table[e];if(!n.isUndefined(o))return delete this.table[e],this.nElements--,o.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var o=this.table[e];t.push(o.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var o=this.table[e];t.push(o.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(n.has(this.table,e)){var o=this.table[e];if(!1===t(o.key,o.value))return}},t.prototype.containsKey=function(t){return!n.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,o){t+="\n\t"+e+" : "+o}),t+"\n}"},t}();o.default=i},{"./util":17}],5:[function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Dictionary"),s=t("./util"),a=function(t){function e(e,o){var n=t.call(this,o)||this;return n.defaultFactoryFunction=e,n}return i(e,t),e.prototype.setDefault=function(e,o){var n=t.prototype.getValue.call(this,e);return s.isUndefined(n)?(this.setValue(e,o),o):n},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(r.default);o.default=a},{"./Dictionary":4,"./util":17}],6:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./arrays"),r=function(){function t(t){this.data=[],this.compare=t||n.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)i.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)i.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!n.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=n.compareToEquals(this.compare);return i.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){i.forEach(this.data,t)},t}();o.default=r},{"./arrays":15,"./util":17}],7:[function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Dictionary"),s=t("./util"),a=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),c=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),u=function(t){function e(e){var o=t.call(this,e)||this;return o.head=new c,o.tail=new c,o.head.next=o.tail,o.tail.prev=o.head,o}return i(e,t),e.prototype.appendToTail=function(t){var e=this.tail.prev;e.next=t,t.prev=e,t.next=this.tail,this.tail.prev=t},e.prototype.getLinkedDictionaryPair=function(t){if(!s.isUndefined(t)){var e="$"+this.toStr(t);return this.table[e]}},e.prototype.getValue=function(t){var e=this.getLinkedDictionaryPair(t);if(!s.isUndefined(e))return e.value},e.prototype.remove=function(e){var o=this.getLinkedDictionaryPair(e);if(!s.isUndefined(o))return t.prototype.remove.call(this,e),o.unlink(),o.value},e.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},e.prototype.replace=function(t,e){var o="$"+this.toStr(e.key);e.next=t.next,e.prev=t.prev,this.remove(t.key),e.prev.next=e,e.next.prev=e,this.table[o]=e,++this.nElements},e.prototype.setValue=function(t,e){if(!s.isUndefined(t)&&!s.isUndefined(e)){var o=this.getLinkedDictionaryPair(t),n=new a(t,e),i="$"+this.toStr(t);return s.isUndefined(o)?(this.appendToTail(n),this.table[i]=n,void++this.nElements):(this.replace(o,n),o.value)}},e.prototype.keys=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(e,o){t.push(o)}),t},e.prototype.forEach=function(t){for(var e=this.head.next;e.next;){if(!1===t(e.key,e.value))return;e=e.next}},e}(r.default);o.default=u},{"./Dictionary":4,"./util":17}],8:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./arrays"),r=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(n.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||n.isUndefined(t))return!1;var o=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=o,this.lastNode=o;else if(e===this.nElements)this.lastNode.next=o,this.lastNode=o;else if(0===e)o.next=this.firstNode,this.firstNode=o;else{var i=this.nodeAtIndex(e-1);if(null===i)return!1;o.next=i.next,i.next=o}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var o=e||n.defaultEquals;if(n.isUndefined(t))return-1;for(var i=this.firstNode,r=0;null!==i;){if(o(i.element,t))return r;r++,i=i.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var o=e||n.defaultEquals;if(this.nElements<1||n.isUndefined(t))return!1;for(var i=null,r=this.firstNode;null!==r;){if(o(r.element,t))return null===i?(this.firstNode=r.next,r===this.lastNode&&(this.lastNode=null)):r===this.lastNode?(this.lastNode=i,i.next=r.next,r.next=null):(i.next=r.next,r.next=null),this.nElements--,!0;i=r,r=r.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,o){var i=o||n.defaultEquals;return e instanceof t&&this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,i)},t.prototype.equalsAux=function(t,e,o){for(;null!==t&&null!==e;){if(!o(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var o=this.nodeAtIndex(t-1);null===o?(e=this.firstNode.element,this.firstNode=this.firstNode.next):o.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=o),null!==o&&null!==o.next&&(e=o.next.element,o.next=o.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,o=null;null!==e;)o=e.next,e.next=t,t=e,e=o;o=this.firstNode,this.firstNode=this.lastNode,this.lastNode=o},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return i.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,o=0;o<t&&null!==e;o++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();o.default=r},{"./arrays":15,"./util":17}],9:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./Dictionary"),r=t("./arrays"),s=function(){function t(t,e,o){void 0===o&&(o=!1),this.dict=new i.default(t),this.equalsF=e||n.defaultEquals,this.allowDuplicate=o}return t.prototype.getValue=function(t){var e=this.dict.getValue(t);return n.isUndefined(e)?[]:r.copy(e)},t.prototype.setValue=function(t,e){if(n.isUndefined(t)||n.isUndefined(e))return!1;var o=this.dict.getValue(t);return n.isUndefined(o)?(this.dict.setValue(t,[e]),!0):!(!this.allowDuplicate&&r.contains(o,e,this.equalsF)||(o.push(e),0))},t.prototype.remove=function(t,e){if(n.isUndefined(e)){var o=this.dict.remove(t);return!n.isUndefined(o)}var i=this.dict.getValue(t);return!(n.isUndefined(i)||!r.remove(i,e,this.equalsF)||(0===i.length&&this.dict.remove(t),0))},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],e=0,o=this.dict.values();e<o.length;e++)for(var n=0,i=o[e];n<i.length;n++){var r=i[n];t.push(r)}return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();o.default=s},{"./Dictionary":4,"./arrays":15,"./util":17}],10:[function(t,e,o){"use strict";var n;Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(n||(n={}));var i=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.rootIds=t,this.nodes=e,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,e=this.rootIds;t<e.length;t++){var o=e[t];this.createEmptyNodeIfNotExist(o)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var e=0,o=this.nodes[t];e<o.length;e++){var n=o[e];this.createEmptyNodeIfNotExist(n)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(t[e]=this.nodes[e].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){for(var t=this,e=[],o=0;o<this.rootIds.length;o++){var n=this.rootIds[o];e.push({id:n,level:0,hasParent:!1,childrenCount:0}),c(n,this.nodes,e,0)}for(var i=0,r=e;i<r.length;i++){var s=r[i];s.childrenCount=(a=s.id,t.nodes[a]?t.nodes[a].length:0)}var a;return e;function c(t,e,o,n){if(void 0===n&&(n=0),t&&e&&o&&e[t]){n++;for(var i=e[t],r=0;r<i.length;r++){var s=i[r];o.push({id:s,level:n,hasParent:!0}),c(s,e,o,n)}n--}}},t.prototype.moveIdBeforeId=function(t,e){return this.moveId(t,e,n.BEFORE)},t.prototype.moveIdAfterId=function(t,e){return this.moveId(t,e,n.AFTER)},t.prototype.moveIdIntoId=function(t,e,o){return void 0===o&&(o=!0),o?this.moveId(t,e,n.INSIDE_AT_START):this.moveId(t,e,n.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,e){var o=this.findRootId(t),n=this.findRootId(e);this.swapRootPositionWithRootPosition(o,n)},t.prototype.swapRootPositionWithRootPosition=function(t,e){var o=this.rootIds[e];this.rootIds[e]=this.rootIds[t],this.rootIds[t]=o},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,e){var o=this.findRootId(t);for(var n in o>-1&&this.insertIdIntoRoot(e,o),this.nodes)if(this.nodes.hasOwnProperty(n)){var i=this.findNodeId(n,t);i>-1&&this.insertIdIntoNode(n,e,i)}},t.prototype.insertIdAfterId=function(t,e){var o=this.findRootId(t);for(var n in o>-1&&this.insertIdIntoRoot(e,o+1),this.nodes)if(this.nodes.hasOwnProperty(n)){var i=this.findNodeId(n,t);i>-1&&this.insertIdIntoNode(n,e,i+1)}},t.prototype.insertIdIntoId=function(t,e){this.nodeInsertAtEnd(t,e),this.nodes[e]=[]},t.prototype.insertIdIntoRoot=function(t,e){if(void 0===e)this.rootInsertAtEnd(t);else if(e<0){var o=this.rootIds.length;this.rootIds.splice(e+o+1,0,t)}else this.rootIds.splice(e,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,e,o){if(this.nodes[t]=this.nodes[t]||[],this.nodes[e]=this.nodes[e]||[],void 0===o)this.nodeInsertAtEnd(t,e);else if(o<0){var n=this.nodes[t].length;this.nodes[t].splice(o+n+1,0,e)}else this.nodes[t].splice(o,0,e)},t.prototype.moveId=function(t,e,o){var i=t,r=this.findRootId(i);for(var s in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}var a=e,c=this.findRootId(a);for(var s in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}if(r>-1){if(c>-1)switch(this.rootDelete(r),c>r&&c--,o){case n.BEFORE:this.insertIdIntoRoot(i,c);break;case n.AFTER:this.insertIdIntoRoot(i,c+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}else for(var s in this.rootDelete(r),this.nodes)if(this.nodes.hasOwnProperty(s)&&(u=this.findNodeId(s,a))>-1){switch(o){case n.BEFORE:this.insertIdIntoNode(s,i,u);break;case n.AFTER:this.insertIdIntoNode(s,i,u+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}break}}else if(c>-1){for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)&&(u=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,u);break}switch(o){case n.BEFORE:this.insertIdIntoRoot(i,c);break;case n.AFTER:this.insertIdIntoRoot(i,c+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}}else{for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)&&(u=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,u);break}for(var s in this.nodes){var u;if(this.nodes.hasOwnProperty(s)&&(u=this.findNodeId(s,a))>-1){switch(o){case n.BEFORE:this.insertIdIntoNode(s,i,u);break;case n.AFTER:this.insertIdIntoNode(s,i,u+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}break}}}},t.prototype.swapArrayElements=function(t,e,o){var n=t[e];return t[e]=t[o],t[o]=n,t},t.prototype.rootDeleteId=function(t){var e=this.findRootId(t);e>-1&&this.rootDelete(e)},t.prototype.nodeAndSubNodesDelete=function(t){for(var e=[],o=0;o<this.nodes[t].length;o++){var n=this.nodes[t][o];this.nodeAndSubNodesDelete(n),e.push(t)}for(this.nodeDelete(t),o=0;o<e.length;o++)this.nodeDelete(e[o])},t.prototype.nodeRefrencesDelete=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var o=0;o<this.nodes[e].length;o++)this.nodes[e][o]===t&&this.nodeDeleteAtIndex(e,o)},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,e){return this.nodes[t].indexOf(e)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,e){this.nodes[t].unshift(e)},t.prototype.nodeInsertAtEnd=function(t,e){this.nodes[t].push(e)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,e){this.nodes[t].splice(e,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();o.default=i},{}],11:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./Heap"),r=function(){function t(t){this.heap=new i.default(n.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();o.default=r},{"./Heap":6,"./util":17}],12:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./LinkedList"),i=function(){function t(){this.list=new n.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();o.default=i},{"./LinkedList":8}],13:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./arrays"),r=t("./Dictionary"),s=function(){function t(t){this.dictionary=new r.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!n.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(o){return t.contains(o)||e.remove(o),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(o){return!!t.contains(o)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,o){return t(o)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return i.toString(this.toArray())},t}();o.default=s},{"./Dictionary":4,"./arrays":15,"./util":17}],14:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./LinkedList"),i=function(){function t(){this.list=new n.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();o.default=i},{"./LinkedList":8}],15:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util");function i(t,e,o){for(var i=o||n.defaultEquals,r=t.length,s=0;s<r;s++)if(i(t[s],e))return s;return-1}o.indexOf=i,o.lastIndexOf=function(t,e,o){for(var i=o||n.defaultEquals,r=t.length-1;r>=0;r--)if(i(t[r],e))return r;return-1},o.contains=function(t,e,o){return i(t,e,o)>=0},o.remove=function(t,e,o){var n=i(t,e,o);return!(n<0||(t.splice(n,1),0))},o.frequency=function(t,e,o){for(var i=o||n.defaultEquals,r=t.length,s=0,a=0;a<r;a++)i(t[a],e)&&s++;return s},o.equals=function(t,e,o){var i=o||n.defaultEquals;if(t.length!==e.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!i(t[s],e[s]))return!1;return!0},o.copy=function(t){return t.concat()},o.swap=function(t,e,o){if(e<0||e>=t.length||o<0||o>=t.length)return!1;var n=t[e];return t[e]=t[o],t[o]=n,!0},o.toString=function(t){return"["+t.toString()+"]"},o.forEach=function(t,e){for(var o=0,n=t;o<n.length;o++)if(!1===e(n[o]))return}},{"./util":17}],16:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./arrays");o.arrays=n;var i=t("./Bag");o.Bag=i.default;var r=t("./BSTree");o.BSTree=r.default;var s=t("./BSTreeKV");o.BSTreeKV=s.default;var a=t("./Dictionary");o.Dictionary=a.default;var c=t("./Heap");o.Heap=c.default;var u=t("./LinkedDictionary");o.LinkedDictionary=u.default;var l=t("./LinkedList");o.LinkedList=l.default;var h=t("./MultiDictionary");o.MultiDictionary=h.default;var p=t("./FactoryDictionary");o.FactoryDictionary=p.default;var f=t("./FactoryDictionary");o.DefaultDictionary=f.default;var d=t("./Queue");o.Queue=d.default;var y=t("./PriorityQueue");o.PriorityQueue=y.default;var v=t("./Set");o.Set=v.default;var m=t("./Stack");o.Stack=m.default;var I=t("./MultiRootTree");o.MultiRootTree=I.default;var _=t("./util");o.util=_},{"./BSTree":1,"./BSTreeKV":2,"./Bag":3,"./Dictionary":4,"./FactoryDictionary":5,"./Heap":6,"./LinkedDictionary":7,"./LinkedList":8,"./MultiDictionary":9,"./MultiRootTree":10,"./PriorityQueue":11,"./Queue":12,"./Set":13,"./Stack":14,"./arrays":15,"./util":17}],17:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty;function i(t){return"function"==typeof t}function r(t){return void 0===t}function s(t){return"[object String]"===Object.prototype.toString.call(t)}o.has=function(t,e){return n.call(t,e)},o.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},o.defaultEquals=function(t,e){return t===e},o.defaultToString=function(t){return null===t?"COLLECTION_NULL":r(t)?"COLLECTION_UNDEFINED":s(t)?"$s"+t:"$o"+t.toString()},o.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(r(t))return"COLLECTION_UNDEFINED";if(s(t))return t.toString();var n="{",i=!0;for(var a in t)o.has(t,a)&&(i?i=!1:n+=e,n=n+a+":"+t[a]);return n+"}"},o.isFunction=i,o.isUndefined=r,o.isString=s,o.reverseCompareFunction=function(t){return r(t)||!i(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,o){return-1*t(e,o)}},o.compareToEquals=function(t){return function(e,o){return 0===t(e,o)}}},{}],DataManager:[function(t,e,o){"use strict";cc._RF.push(e,"84a8a8AUodJOL2URzhL7BB3","DataManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./utils/LiteEvent"),i=function(){function t(){this.OnGoldChangedEvent=new n.LiteEvent2,this.LoginData={access_token:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImpSQU84TW02MWhuQk4tcDNlYm1rbCJ9.eyJpc3MiOiJodHRwczovL2Rldi0yY213NDg5MC5qcC5hdXRoMC5jb20vIiwic3ViIjoiYXV0aDB8NjA4YzEyMzgyNDM3ZTUwMDZmMGIyNjMyIiwiYXVkIjpbImxvdG8iLCJodHRwczovL2Rldi0yY213NDg5MC5qcC5hdXRoMC5jb20vdXNlcmluZm8iXSwiaWF0IjoxNjIwMDk5NTMwLCJleHAiOjE2MjI2OTE1MzAsImF6cCI6Ilh0d0V4VVg4VFQ3SWwyR3ZVWXJMZ2xUYklDTXQ4UWZVIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImd0eSI6InBhc3N3b3JkIiwicGVybWlzc2lvbnMiOltdfQ.Nko0UWxaI1VcJli0iRap6cm4BtRDDWj19Ij4ie616zfwoZ9iUw6P53iYs2SrKPw9aGPhRoSNcNbcCMaNQw7KoQKDwlAhDLzEOTBC4yOv8GGvgYKXlVFjK9nEbHdPv3L6ElEzDtjEQsXYFj5LteNUJ48nNjk09dwUO6RtxuA5DzJindl7YP-dQjlnielyhAoTwj_lZCi0ho-9ZoqyYbvtyU0x7ftEcJUtk-qT9ic_u20-Ibwl8ODe73PTDt-sf7vmHSNDVvDK20hbCdjWBk5MVdEwyHNDKBQh3I7b2_SQ09QXZNMa6SLbBIu-MsjXlGKSCYUiD2zdGeMG58QjZwJgUQ",expires_in:2592e3,id_token:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImpSQU84TW02MWhuQk4tcDNlYm1rbCJ9.eyJuaWNrbmFtZSI6ImRldmFudG8zNjUiLCJuYW1lIjoiZGV2YW50bzM2NUBhbnRvMzY1LmNvbSIsInBpY3R1cmUiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9kZTgyYmYyN2YyODhhOGJhZGIwNjViNDg1ZTNjOGNkMj9zPTQ4MCZyPXBnJmQ9aHR0cHMlM0ElMkYlMkZjZG4uYXV0aDAuY29tJTJGYXZhdGFycyUyRmRlLnBuZyIsInVwZGF0ZWRfYXQiOiIyMDIxLTA1LTA0VDAzOjM4OjUwLjEyMloiLCJlbWFpbCI6ImRldmFudG8zNjVAYW50bzM2NS5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImlzcyI6Imh0dHBzOi8vZGV2LTJjbXc0ODkwLmpwLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2MDhjMTIzODI0MzdlNTAwNmYwYjI2MzIiLCJhdWQiOiJYdHdFeFVYOFRUN0lsMkd2VVlyTGdsVGJJQ010OFFmVSIsImlhdCI6MTYyMDA5OTUzMCwiZXhwIjoxNjIyNjkxNTMwfQ.ARj1gfMfoNbodv6YH3dsU6K_jGFiqdstm8m92oQooJMX0fttoM1zXNa6jWjpujfyVkiXVFBBBtZs2oF2i4U8i2Yj8ZbOiTQr6ezTwK6WEiXqQdzZlCjA4AAWIjYbd7St-JmTvRqsmGxANL38VWO9FsdjSqO3uTGXebLFPLz97CicBeRURJLbBIFXUGT7bVjWPKOJjpJhp4bst4yRx6QudkNVi7eV1HQxo6iPNXEpzy4dLt8Ynwnf7h-GA7W5pOqJNWuNMl2IjEp3cfzAV1ujVKQciIxpttbSrAErTNIl9WNHwd1QGPjDJq10wLXoGE1DsoTDsW0e6s_bzPbKipplag",scope:"openid profile email",token_type:"Bearer"}}return Object.defineProperty(t,"Instance",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.Nickname=function(){return this.userInfo?this.userInfo.username:""},t.prototype.Gold=function(){return this.userBalance?this.userBalance.balance:0},t.prototype.ValidGold=function(){return this.userBalance?this.userBalance.balance+this.userBalance.bonusBalance-this.userBalance.onHoldAmt:0},t.prototype.BettingGold=function(){return this.userBalance?this.userBalance.totalBettingAmt:0},t.prototype.Login=function(t){this.userInfo=t},t.prototype.UpdateUserBalance=function(t){this.userBalance=t,this.OnGoldChangedEvent.trigger(0,this.userBalance.balance)},t.prototype.addGold=function(t){if(this.userInfo){var e=this.userBalance.balance;this.userBalance.balance+=t,this.OnGoldChangedEvent.trigger(e,this.userBalance.balance)}},t.prototype.subGold=function(t){var e=this.userBalance.balance;this.userBalance.balance-=t,this.OnGoldChangedEvent.trigger(e,this.userBalance.balance)},t.prototype.setGold=function(t){var e=this.userBalance.balance;this.userBalance.balance=t,this.OnGoldChangedEvent.trigger(e,this.userBalance.balance)},t.instance=null,t}();o.default=i,cc._RF.pop()},{"./utils/LiteEvent":"LiteEvent"}],LiteEvent:[function(t,e,o){"use strict";cc._RF.push(e,"d4fe80JZytHur6oj1AbiNNX","LiteEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.LiteEvent0=o.LiteEvent2=o.LiteEvent=void 0;var n=function(){function t(){this.handlers=[]}return t.prototype.on=function(t){this.handlers.push(t)},t.prototype.off=function(t){this.handlers=this.handlers.filter(function(e){return e!==t})},t.prototype.trigger=function(t){this.handlers.slice(0).forEach(function(e){return e(t)})},t.prototype.expose=function(){return this},t}();o.LiteEvent=n;var i=function(){function t(){this.handlers=[]}return t.prototype.on=function(t){this.handlers.push(t)},t.prototype.off=function(t){this.handlers=this.handlers.filter(function(e){return e!==t})},t.prototype.trigger=function(t,e){this.handlers.slice(0).forEach(function(o){return o(t,e)})},t.prototype.expose=function(){return this},t}();o.LiteEvent2=i;var r=function(){function t(){this.handlers=[]}return t.prototype.on=function(t){this.handlers.push(t)},t.prototype.off=function(t){this.handlers=this.handlers.filter(function(e){return e!==t})},t.prototype.trigger=function(){this.handlers.slice(0).forEach(function(t){return t()})},t.prototype.expose=function(){return this},t}();o.LiteEvent0=r,cc._RF.pop()},{}],LoadingCanvas:[function(t,e,o){"use strict";cc._RF.push(e,"597400CqXJGEK5cOJyZ0xLZ","LoadingCanvas");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../PopupControllerBase"),a=cc._decorator,c=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){null==o.instance?(cc.game.addPersistRootNode(this.node),o.instance=this,this.node.active=!1):this.node.destroy()},e.instance=null,o=r([c],e)}(s.default));o.default=u,cc._RF.pop()},{"../PopupControllerBase":"PopupControllerBase"}],MultipleScreenSizeHelper:[function(t,e,o){"use strict";cc._RF.push(e,"85fb8C+mPVAjp1lijLtcQ1A","MultipleScreenSizeHelper");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc.Vec2,a=cc.Vec3,c=cc._decorator.executionOrder,u=cc.Size,l=cc._decorator,h=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.content=null,e.rightCover=null,e.leftCover=null,e.designResolution=new u(1080,1920),e.lastWidth=0,e.lastHeight=0,e}return i(e,t),e.prototype.onLoad=function(){var t=cc.view.getFrameSize();this.canvas&&(t.width/t.height<9/16?(this.canvas.fitWidth=!0,this.canvas.fitHeight=!1,this.node.width=this.designResolution.width,this.node.height=this.designResolution.width*t.height/t.width,this.node.setPosition(new s(this.node.width/2,this.node.height/2))):(this.canvas.fitWidth=!1,this.canvas.fitHeight=!0))},e.prototype.onEnable=function(){var t=cc.view.getFrameSize();this.canvas||(t.width/t.height<9/16?(this.node.width=this.designResolution.width,this.node.height=this.designResolution.width*t.height/t.width,this.node.setPosition(new s(this.node.width/2,this.node.height/2)),console.log("onEnable - Width = "+this.node.width+" Height = "+this.node.height)):(this.node.height=this.designResolution.height,this.node.width=this.designResolution.height*t.width/t.height,this.node.setPosition(new s(this.node.width/2,this.node.height/2))))},e.prototype.start=function(){this.refreshContentSize()},e.prototype.update=function(){this.refreshContentSize()},e.prototype.refreshContentSize=function(){if(this.lastWidth!=this.node.width||this.lastHeight!=this.node.height){console.log("refreshContentSize w = "+this.node.width+" h = "+this.node.height),this.lastWidth=this.node.width,this.lastHeight=this.node.height;var t=this.node.width,e=this.node.height;if(t/e>.75){if(this.content.height=e,this.content.width=9*e/16,this.leftCover&&this.rightCover){this.leftCover.active=!0,this.rightCover.active=!0,this.rightCover.height=this.leftCover.height=e,this.rightCover.width=this.leftCover.width=(t-this.content.width)/2;var o=this.content.width/2+this.rightCover.width/2;this.leftCover.setPosition(new s(-o,0)),this.rightCover.setPosition(new s(+o,0))}}else this.content.width=t,this.content.height=e,this.content.position=a.ZERO,this.leftCover&&this.rightCover&&(this.leftCover.active=!1,this.rightCover.active=!1)}},r([c(-999),p(cc.Canvas)],e.prototype,"canvas",void 0),r([p(cc.Node)],e.prototype,"content",void 0),r([p(cc.Node)],e.prototype,"rightCover",void 0),r([p(cc.Node)],e.prototype,"leftCover",void 0),r([p()],e.prototype,"designResolution",void 0),r([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{}],NodeUtils:[function(t,e,o){"use strict";cc._RF.push(e,"d3f9cnCiC1Jm4UMAkFRy73p","NodeUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.Vec2;cc.Node.prototype.getWorldSpacePositon=function(){return this.parent?this.parent.convertToWorldSpaceAR(new n(this.position.x,this.position.y)):new n(this.position.x,this.position.y)},cc.Node.prototype.setWorldSpacePosition=function(t){this.parent&&(t=this.parent.convertToNodeSpaceAR(t)),this.position=t},cc._RF.pop()},{}],PopupControllerBase:[function(t,e,o){"use strict";cc._RF.push(e,"0f05bE0m5VDhKNebVYEcYHe","PopupControllerBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.PopupType=void 0;var s,a=cc._decorator,c=a.ccclass,u=a.property;(function(t){t[t.Scale=0]="Scale",t[t.Fade=1]="Fade"})(s=o.PopupType||(o.PopupType={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TweenDuration=.2,e.type=s.Scale,e.disableOnHide=!0,e}return i(e,t),e.prototype.onBeforeShow=function(){},e.prototype.onBeforeHide=function(){},e.prototype.onAfterShow=function(){this.onShowEvent&&this.onShowEvent()},e.prototype.onAfterHide=function(){this.disableOnHide&&(this.nodeContent.active=!1),this.onCloseEvent&&this.onCloseEvent()},e.prototype.show=function(t,e){var o=this;if(void 0===t&&(t=this.TweenDuration),void 0===e&&(e=null),!this.IsShowing){this.IsShowing=!0,this.disableOnHide&&(this.nodeContent.active=!0),this.onBeforeShow();var n=0;this.type==s.Scale?(this.nodeContent.stopAllActions(),this.nodeContent.scale=0,this.nodeContent.runAction(cc.scaleTo(t,1)),n=t):this.type==s.Fade&&(this.nodeContent.stopAllActions(),cc.tween(this.nodeContent).to(t,{opacity:255}),n=t),setTimeout(function(){o.onAfterShow(),e&&e()},n)}},e.prototype.hide=function(t,e,o){var n=this;if(void 0===t&&(t=this.TweenDuration),void 0===e&&(e=!1),void 0===o&&(o=null),this.IsShowing||e){this.IsShowing=!1,this.onBeforeHide();var i=0;this.type==s.Scale?(this.nodeContent.stopAllActions(),this.nodeContent.scale=1,this.nodeContent.runAction(cc.scaleTo(t,0)),i=t):this.type==s.Fade&&(this.nodeContent.stopAllActions(),cc.tween(this.nodeContent).to(t,{opacity:0}),i=t),setTimeout(function(){n.onAfterHide(),o&&o()},i)}},r([u({type:cc.Enum(s)})],e.prototype,"type",void 0),r([u(cc.Boolean)],e.prototype,"disableOnHide",void 0),r([u(cc.Node)],e.prototype,"nodeContent",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],RotateOverTime:[function(t,e,o){"use strict";cc._RF.push(e,"40494+clM1EO7g+WNUFB1TR","RotateOverTime");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=2,e}return i(e,t),e.prototype.start=function(){cc.tween(this.node).repeatForever(cc.tween().by(this.duration,{angle:360})).start()},r([c(cc.Integer)],e.prototype,"duration",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ToastController:[function(t,e,o){"use strict";cc._RF.push(e,"d1d33dxSW1Kq4ugX1/OcWwf","ToastController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.ToastType=void 0;var s,a=t("./ToastItemController"),c=t("typescript-collections"),u=cc.Color,l=cc._decorator,h=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showHeight=100,e.showDuration=2,e.toastPool=new c.Queue,e}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){null==o.instance?(cc.game.addPersistRootNode(this.node),o.instance=this):this.node.destroy()},e.prototype.showToast=function(t,e){if(void 0===e&&(e=s.Info),t){var o=this.GetToastFromPool();o.SetData(t,this.getColor(e)),o.node.setSiblingIndex(this.node.parent.childrenCount-1),o.node.opacity=0,o.node.setPosition(this.startPosition.position);var n=this;cc.tween(o.node).to(.2*this.showDuration,{opacity:255}).start(),cc.tween(o.node).delay(.8*this.showDuration).to(.2*this.showDuration,{opacity:0}).start(),cc.tween(o.node).to(this.showDuration,{position:cc.v3(this.startPosition.x,this.startPosition.y+this.showHeight,0)}).call(function(){n.enqueueToastItem(o),o.node.scale=1}).start()}},e.prototype.getColor=function(t){switch(t){case s.Success:case s.Info:return u.WHITE;case s.Warning:return u.YELLOW;case s.Error:return u.RED}return u.WHITE},e.prototype.GetToastFromPool=function(){var t=null;return 0==this.toastPool.size()?(t=cc.instantiate(this.toastPrefab).getComponent(a.default)).node.parent=this.node:t=this.toastPool.dequeue(),t.node.active=!0,t},e.prototype.enqueueToastItem=function(t){t.node.active=!1,this.toastPool.enqueue(t)},e.instance=null,r([p(cc.Prefab)],e.prototype,"toastPrefab",void 0),r([p(cc.Node)],e.prototype,"toastContainer",void 0),r([p(cc.Node)],e.prototype,"startPosition",void 0),r([p],e.prototype,"showHeight",void 0),r([p],e.prototype,"showDuration",void 0),o=r([h],e)}(cc.Component);o.default=f,function(t){t[t.Info=0]="Info",t[t.Warning=1]="Warning",t[t.Error=2]="Error",t[t.Success=3]="Success"}(s=o.ToastType||(o.ToastType={})),cc._RF.pop()},{"./ToastItemController":"ToastItemController","typescript-collections":16}],ToastItemController:[function(t,e,o){"use strict";cc._RF.push(e,"e6b2dcviJFNhooj/3A7Inlx","ToastItemController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtContent=null,e}return i(e,t),e.prototype.SetData=function(t,e){this.node.color=e,this.txtContent.node.color=e,this.txtContent.string=t},r([c(cc.Label)],e.prototype,"txtContent",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"ad282elfCdFuK58MUtp8mED","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var n=t("typescript-collections"),i=function(t,e,o,i,r,s){this.countryCode=t,this.symbol=e,this.format=o,this.decimalSeperator=i,this.thousandSeperator=r,this.realMoneyToChipMultiplier=s,this.abbrevations=new n.Dictionary,this.abbrevations.setValue(1e3,"K"),this.abbrevations.setValue(1e6,"M"),this.abbrevations.setValue(1e9,"B"),this.abbrevations.setValue(1e12,"T"),this.abbrevations.setValue(1e15,"Q")},r=function(){function t(){}return t.numberWithCommas=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.FormatChip=function(t,e){if(void 0===e&&(e=!0),e)for(var o=Math.abs(t),n=this.currencySetting.abbrevations.size()-1;n>=0;n--){var i=this.currencySetting.abbrevations.keys()[n],r=this.currencySetting.abbrevations.values()[n];if(o>=i){var s=Math.fround(o/i);return Number(s.toFixed(2))+r}}return this.numberWithCommas(t)},t.FormatChipForProfile=function(t){for(var e=Math.abs(t),o=this.currencySetting.abbrevations.size()-1;o>=0;o--){var n=this.currencySetting.abbrevations.keys()[o],i=this.currencySetting.abbrevations.values()[o];if(e>=n){var r=o-1;r>=0&&(n=this.currencySetting.abbrevations.keys()[r],i=this.currencySetting.abbrevations.values()[r]);var s=Math.round(e/n);return this.numberWithCommas(s)+i}}},t.FormatChipForLabel=function(t,e,o){void 0===o&&(o=!0),t.string=this.FormatChip(e,o)},t.FormatEarningForLabel=function(t,e,o){void 0===o&&(o=!0),t.string=this.FormatChip(e,o)},t.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)},t.getRandom=function(t,e){return Math.random()*(e-t)+t},t.getParamFromUrl=function(t){var e=window.location.href;return new URL(e).searchParams.get(t)},t.currencySetting=new i("SG","$","{0}{1}",".",",",1),t}();o.Utils=r,cc._RF.pop()},{"typescript-collections":16}],XocDiaBetPanel:[function(t,e,o){"use strict";cc._RF.push(e,"3b73baS0hlO8oq55GzEPJ3w","XocDiaBetPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./XocDiaGameplayController"),a=t("./utils/LiteEvent"),c=cc._decorator,u=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onPanelClickEvent=new a.LiteEvent,e.betType=s.XocDiaBetType.EVEN,e}return i(e,t),e.prototype.start=function(){this.setWinEffect(!1)},e.prototype.onPanelClicked=function(){this.onPanelClickEvent.trigger(this)},e.prototype.setWinEffect=function(t){this.winEffect.active=t},r([l({type:cc.Enum(s.XocDiaBetType)})],e.prototype,"betType",void 0),r([l(cc.Label)],e.prototype,"txtOdds",void 0),r([l(cc.Node)],e.prototype,"betPosition",void 0),r([l(cc.Node)],e.prototype,"winEffect",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./XocDiaGameplayController":"XocDiaGameplayController","./utils/LiteEvent":"LiteEvent"}],XocDiaChipSelectionItem:[function(t,e,o){"use strict";cc._RF.push(e,"ea9df8vSdlHrLROM6gQQ7A4","XocDiaChipSelectionItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,a=cc._decorator.property,c=t("./utils/Utils"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tglItem=null,e.sprChip=null,e.sprChipChecked=null,e.txtAmount=null,e}return i(e,t),e.prototype.setup=function(t){this.Info=t,this.sprChip.spriteFrame=t.sprIcon,this.sprChipChecked.spriteFrame=t.sprIcon,c.Utils.FormatChipForLabel(this.txtAmount,t.amount)},r([a(cc.Toggle)],e.prototype,"tglItem",void 0),r([a(cc.Sprite)],e.prototype,"sprChip",void 0),r([a(cc.Sprite)],e.prototype,"sprChipChecked",void 0),r([a(cc.Label)],e.prototype,"txtAmount",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./utils/Utils":"Utils"}],XocDiaGameplayController:[function(t,e,o){"use strict";cc._RF.push(e,"1cb98qnQBxB8o5iDr5bGNug","XocDiaGameplayController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.XocDiaBetType=void 0;var s,a=t("./networking/APIConnector"),c=t("./DataManager"),u=t("./utils/Utils"),l=t("./XocDiaBetPanel"),h=t("./XocDiaHistoryItem"),p=t("./data/ChipInfo"),f=t("./XocDiaChipSelectionItem"),d=cc.Vec3,y=t("./data/ChipPoolController"),v=t("./data/LoadingCanvas"),m=cc._decorator,I=m.ccclass,_=m.property,g=function(t){function e(){var e=t.call(this)||this;return e.chipPoolController=null,e.betPanelNodes=[],e.blockContent=null,e.diskContent=null,e.diskUp=null,e.diskOpenPosition=null,e.sprResultDots=[],e.positionOtherPlayers=null,e.positionMyPlayer=null,e.chipInfo=null,e.chipSelectionPrefab=null,e.chipSelectionContainer=null,e.chipSelectionItems=[],e.historyItemPrefab=null,e.historyItemContainer=null,e.historyAllItems=[],e.betPanels=[],e.historyTotalFourWhiteGames=0,e.historyTotalFourBlackGames=0,e.historyTotalEvenGames=0,e.historyTotalOddGames=0,e.historyTotalGames=0,e.currentTimeRemains=0,e.updateGameInfoTimer=0,e.UpdateGameInfoInterval=3,e.onGetUserInfoSuccess=e.onGetUserInfoSuccess.bind(e),e.onGetUserInfoFailed=e.onGetUserInfoFailed.bind(e),e.onGetUserBalanceSuccess=e.onGetUserBalanceSuccess.bind(e),e.onUpdateGameInfo=e.onUpdateGameInfo.bind(e),e.onUpdateUserBalance=e.onUpdateUserBalance.bind(e),e.onBetPanelClick=e.onBetPanelClick.bind(e),e.onUpdateHistory=e.onUpdateHistory.bind(e),e.onBetResponse=e.onBetResponse.bind(e),e}return i(e,t),e.prototype.onLoad=function(){for(var t=0,e=this.betPanelNodes;t<e.length;t++){var o=e[t].getComponent(l.default);o.onPanelClickEvent.on(this.onBetPanelClick),this.betPanels.push(o)}this.chipPoolController=this.chipPoolController.getComponent(y.default),this.chipInfo=this.chipInfo.getComponent(p.default),this.blockContent.active=!1},e.prototype.start=function(){var t=this;setTimeout(function(){v.default.Instance.show()},.01),this.txtHistoryFourWhiteRate.string="0%",this.txtHistoryFourBlackRate.string="0%",this.txtHistoryEvenRate.string="0%",this.txtHistoryOddRate.string="0%",this.chipInfo.chipInfos.forEach(function(e){var o=cc.instantiate(t.chipSelectionPrefab).getComponent(f.default);o.node.active=!0,o.node.setParent(t.chipSelectionContainer),o.setup(e),o.tglItem.uncheck(),t.chipSelectionItems.push(o)}),this.chipSelectionItems[0].tglItem.check(),this.updateGameInfoTimer=this.UpdateGameInfoInterval;var e=u.Utils.getParamFromUrl("token");console.log("Access Token: "+e),e&&(c.default.Instance.LoginData.access_token=e),c.default.Instance.OnGoldChangedEvent.on(this.onUpdateUserBalance),a.default.Instance.GetUserInfo(this.onGetUserInfoSuccess,this.onGetUserInfoFailed)},e.prototype.update=function(t){this.isValidToken&&(this.currentTimeRemains-=t,this.updateGameInfoTimer-=t,this.txtTimeRemains.string=this.currentTimeRemains>0?this.currentTimeRemains.toFixed():"...",this.updateGameInfoTimer<=0&&(a.default.Instance.GetGameInfo(this.onUpdateGameInfo,null),this.updateGameInfoTimer=Math.min(this.UpdateGameInfoInterval,this.currentTimeRemains>.2?this.currentTimeRemains:.5)))},e.prototype.onGetUserInfoSuccess=function(t){c.default.Instance.Login(t),this.isValidToken=!0,this.txtNickname.string=c.default.Instance.Nickname(),this.txtGold.string=u.Utils.FormatChipForProfile(c.default.Instance.Gold()),v.default.Instance.hide(),a.default.Instance.GetUserBalance(this.onGetUserBalanceSuccess,null),a.default.Instance.GetHistory(this.onUpdateHistory,null),a.default.Instance.GetGameInfo(this.onUpdateGameInfo,null),console.log("onGetUserInfoSuccess: "+t)},e.prototype.onGetUserInfoFailed=function(t){console.log("onGetUserInfoFailed: "+t)},e.prototype.onGetUserBalanceSuccess=function(t){console.log("onGetUserBalanceSuccess: "+t),t._embedded.balanceDToes.length>0&&c.default.Instance.UpdateUserBalance(t._embedded.balanceDToes[0])},e.prototype.onUpdateGameInfo=function(t){var e=this;console.log("onGetGameInfoSuccess: "+t),this.lastGameInfo=this.currentGameInfo,this.currentGameInfo=t,this.currentTimeRemains=this.currentGameInfo.timeRemains,this.txtTimeRemains.string=this.currentTimeRemains.toString(),this.txtTotalPlayers.string=this.currentGameInfo.totalPlayer.toString();var o=0;switch(this.currentGameInfo.totalBetOnEachPosition&&(o+=this.currentGameInfo.totalBetOnEachPosition.ONE_WHITE.totalBetAmount,o+=this.currentGameInfo.totalBetOnEachPosition.ONE_BLACK.totalBetAmount,o+=this.currentGameInfo.totalBetOnEachPosition.FOUR_WHITE.totalBetAmount,o+=this.currentGameInfo.totalBetOnEachPosition.FOUR_BLACK.totalBetAmount,o+=this.currentGameInfo.totalBetOnEachPosition.EVEN.totalBetAmount,o+=this.currentGameInfo.totalBetOnEachPosition.ODD.totalBetAmount,"BETTING"===this.currentGameInfo.state&&(this.updateOtherBetPanelChip("ONE_WHITE"),this.updateOtherBetPanelChip("ONE_BLACK"),this.updateOtherBetPanelChip("FOUR_WHITE"),this.updateOtherBetPanelChip("FOUR_BLACK"),this.updateOtherBetPanelChip("EVEN"),this.updateOtherBetPanelChip("ODD"),this.updateMyBetPanelChip("ONE_WHITE"),this.updateMyBetPanelChip("ONE_BLACK"),this.updateMyBetPanelChip("FOUR_WHITE"),this.updateMyBetPanelChip("FOUR_BLACK"),this.updateMyBetPanelChip("EVEN"),this.updateMyBetPanelChip("ODD"))),this.currentGameInfo.state){case"WAITING_NEW_MATCH":this.txtGameState.string="\u0110ang ch\u1edd v\xe1n m\u1edbi...";break;case"BETTING":this.txtGameState.string="\u0110ang ch\u1edd c\u01b0\u1ee3c...";break;case"WAITING_SHOW_RESULT":case"SHOW_RESULT":this.txtGameState.string="\u0110ang tr\u1ea3 th\u01b0\u1edfng..."}if(this.blockContent.active="WAITING_SHOW_RESULT"===this.currentGameInfo.state||"SHOW_RESULT"===this.currentGameInfo.state,u.Utils.FormatChipForLabel(this.txtTotalBetAmount,o),this.lastGameInfo){if("WAITING_SHOW_RESULT"===this.lastGameInfo.state&&"SHOW_RESULT"===this.currentGameInfo.state){for(var n=this.diskContent.position,i=0;i<20;i++){var r=new cc.Vec3(n.x+this.randomRange(-20,20),n.y+this.randomRange(-20,20),0);cc.tween(this.diskContent).delay(.05*i).to(.05,{position:r}).start()}if(cc.tween(this.diskContent).delay(2).to(.05,{position:n}).call(function(){cc.tween(e.diskUp).to(.5,{scale:.5,position:e.diskOpenPosition.position}).start()}).start(),this.currentGameInfo.result){var s=this.randomResult(this.currentGameInfo.result.resultType);for(i=0;i<this.sprResultDots.length;i++)this.sprResultDots[i].node.color=0===s[i]?this.whiteColor:this.blackColor;var c=new a.ResponseHistoryRecord;c.matchNo=this.currentGameInfo.matchNo,c.resultType=this.currentGameInfo.result.resultType,this.addHistory(c),this.currentGameInfo.result.listBetTypeWin.forEach(function(t){var o=e.getPanel(t);null==o||o.setWinEffect(!0)})}}"SHOW_RESULT"===this.lastGameInfo.state&&"WAITING_NEW_MATCH"===this.currentGameInfo.state&&(cc.tween(this.diskUp).to(.5,{scale:1,position:new d}).start(),this.betPanels.forEach(function(t){return t.setWinEffect(!1)}),this.chipPoolController.enqueueAllActiveChip(),a.default.Instance.GetUserBalance(this.onGetUserBalanceSuccess,null))}},e.prototype.updateOtherBetPanelChip=function(t){var e,o,n,i,r,s,a,c,u=this.lastGameInfo?this.lastGameInfo.totalBetOnEachPosition[t]:null,l=this.currentGameInfo?this.currentGameInfo.totalBetOnEachPosition[t]:null,h=(null!==(e=null==l?void 0:l.totalBetAmount)&&void 0!==e?e:0)-(null!==(o=null==u?void 0:u.totalBetAmount)&&void 0!==o?o:0),p=null!==(i=null===(n=this.lastGameInfo)||void 0===n?void 0:n.myBet)&&void 0!==i?i:null,f=null!==(s=null===(r=this.currentGameInfo)||void 0===r?void 0:r.myBet)&&void 0!==s?s:null,d=p?p.betItems.find(function(e){return e.betType===t}):null,y=f?f.betItems.find(function(e){return e.betType===t}):null,v=(null!==(a=null==y?void 0:y.betAmt)&&void 0!==a?a:0)-(null!==(c=null==d?void 0:d.betAmt)&&void 0!==c?c:0);this.betChip(t,h-v,!1)},e.prototype.onUpdateUserBalance=function(t,e){this.txtGold.string=u.Utils.FormatChipForProfile(e)},e.prototype.onBetResponse=function(t){c.default.Instance.subGold(t.totalBetAmt),a.default.Instance.GetGameInfo(this.onUpdateGameInfo,null)},e.prototype.updateMyBetPanelChip=function(t){var e,o,n,i,r,s,a=null!==(o=null===(e=this.lastGameInfo)||void 0===e?void 0:e.myBet)&&void 0!==o?o:null,c=null!==(i=null===(n=this.currentGameInfo)||void 0===n?void 0:n.myBet)&&void 0!==i?i:null,u=a?a.betItems.find(function(e){return e.betType===t}):null,l=c?c.betItems.find(function(e){return e.betType===t}):null,h=(null!==(r=null==l?void 0:l.betAmt)&&void 0!==r?r:0)-(null!==(s=null==u?void 0:u.betAmt)&&void 0!==s?s:0);this.betChip(t,h,!0)},e.prototype.onBetPanelClick=function(t){var e;if(this.currentGameInfo&&"BETTING"===this.currentGameInfo.state){var o=this.chipSelectionItems.find(function(t){return t.tglItem.isChecked}),n=new a.RequestBetItem;if(n.betType=this.getPanelName(t),n.betAmt=o.Info.VndAmount(),!(c.default.Instance.ValidGold()<o.Info.VndAmount())){var i=new a.RequestBet;i.ccy=null!==(e=c.default.Instance.userBalance.ccy)&&void 0!==e?e:"VND",i.listBetItems=[],i.listBetItems.push(n),a.default.Instance.RequestBet(i,this.onBetResponse,null)}}},e.prototype.onUpdateHistory=function(t){var e=this;t.forEach(function(t){return e.addHistory(t)})},e.prototype.betChip=function(t,e,o){if(!(e<=0)){var n=this.getPanel(t),i=o?this.positionMyPlayer.getWorldSpacePositon():this.positionOtherPlayers.getWorldSpacePositon(),r=n.betPosition.getWorldSpacePositon();r.x+=this.randomRange(-20,20),r.y+=this.randomRange(-20,20),this.chipPoolController.createChip(e).moveTo(i,r)}},e.prototype.addHistory=function(t){var e=cc.instantiate(this.historyItemPrefab).getComponent(h.default);switch(e.node.active=!0,e.node.setParent(this.historyItemContainer),e.node.setSiblingIndex(0),e.setup(this.randomResult(t.resultType)),this.historyAllItems.push(e),t.resultType){case"FOUR_BLACK":this.historyTotalFourBlackGames++,this.historyTotalEvenGames++;break;case"ONE_BLACK":case"ONE_WHITE":this.historyTotalOddGames++;break;case"TWO_TWO":this.historyTotalEvenGames++;break;case"FOUR_WHITE":this.historyTotalFourWhiteGames++,this.historyTotalEvenGames++}this.historyTotalGames++,this.txtHistoryFourWhiteRate.string=(this.historyTotalFourWhiteGames/this.historyTotalGames*100).toFixed()+"%",this.txtHistoryFourBlackRate.string=(this.historyTotalFourBlackGames/this.historyTotalGames*100).toFixed()+"%";var o=this.historyTotalEvenGames/this.historyTotalGames*100,n=100-o;this.txtHistoryEvenRate.string=o.toFixed()+"%",this.txtHistoryOddRate.string=n.toFixed()+"%"},e.prototype.getPanelName=function(t){switch(t.betType){case s.FOUR_WHITE:return"FOUR_WHITE";case s.FOUR_BLACK:return"FOUR_BLACK";case s.ONE_BLACK:return"ONE_BLACK";case s.ONE_WHITE:return"ONE_WHITE";case s.EVEN:return"EVEN";case s.ODD:return"ODD"}return""},e.prototype.getPanel=function(t){var e=this;return this.betPanels.find(function(o){return e.getPanelName(o)===t})},e.prototype.randomResult=function(t){var e=[],o=4;switch(t){case"FOUR_BLACK":o=0;break;case"ONE_WHITE":o=1;break;case"TWO_TWO":o=2;break;case"ONE_BLACK":o=3;break;case"FOUR_WHITE":o=4}for(var n=0;n<4;n++)e.push(n<o?0:1);return this.shuffle(e),e},e.prototype.shuffle=function(t){for(var e,o,n=t.length;0!==n;)o=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[o],t[o]=e;return t},e.prototype.randomRange=function(t,e){return Math.random()*(e-t)+t},e.prototype.randomRangeInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)},e.prototype.randomVec3=function(t){return new d(this.randomRange(0,1)*t,this.randomRange(0,1)*t,this.randomRange(0,1)*t)},r([_(cc.Node)],e.prototype,"chipPoolController",void 0),r([_([cc.Node])],e.prototype,"betPanelNodes",void 0),r([_([cc.Node])],e.prototype,"blockContent",void 0),r([_([cc.Node])],e.prototype,"diskContent",void 0),r([_([cc.Node])],e.prototype,"diskUp",void 0),r([_([cc.Node])],e.prototype,"diskOpenPosition",void 0),r([_([cc.Sprite])],e.prototype,"sprResultDots",void 0),r([_([cc.Color])],e.prototype,"whiteColor",void 0),r([_([cc.Color])],e.prototype,"blackColor",void 0),r([_([cc.Node])],e.prototype,"positionOtherPlayers",void 0),r([_([cc.Node])],e.prototype,"positionMyPlayer",void 0),r([_(cc.Label)],e.prototype,"txtNickname",void 0),r([_(cc.Label)],e.prototype,"txtGold",void 0),r([_(cc.Label)],e.prototype,"txtGameState",void 0),r([_(cc.Label)],e.prototype,"txtTimeRemains",void 0),r([_(cc.Label)],e.prototype,"txtTotalBetAmount",void 0),r([_(cc.Label)],e.prototype,"txtTotalPlayers",void 0),r([_(cc.Node)],e.prototype,"chipInfo",void 0),r([_(cc.Node)],e.prototype,"chipSelectionPrefab",void 0),r([_(cc.Node)],e.prototype,"chipSelectionContainer",void 0),r([_(cc.Label)],e.prototype,"txtHistoryFourWhiteRate",void 0),r([_(cc.Label)],e.prototype,"txtHistoryFourBlackRate",void 0),r([_(cc.Label)],e.prototype,"txtHistoryEvenRate",void 0),r([_(cc.Label)],e.prototype,"txtHistoryOddRate",void 0),r([_(cc.Node)],e.prototype,"historyItemPrefab",void 0),r([_(cc.Node)],e.prototype,"historyItemContainer",void 0),r([I],e)}(cc.Component);o.default=g,function(t){t[t.FOUR_WHITE=0]="FOUR_WHITE",t[t.FOUR_BLACK=1]="FOUR_BLACK",t[t.ONE_BLACK=2]="ONE_BLACK",t[t.ONE_WHITE=3]="ONE_WHITE",t[t.EVEN=4]="EVEN",t[t.ODD=5]="ODD"}(s=o.XocDiaBetType||(o.XocDiaBetType={})),cc._RF.pop()},{"./DataManager":"DataManager","./XocDiaBetPanel":"XocDiaBetPanel","./XocDiaChipSelectionItem":"XocDiaChipSelectionItem","./XocDiaHistoryItem":"XocDiaHistoryItem","./data/ChipInfo":"ChipInfo","./data/ChipPoolController":"ChipPoolController","./data/LoadingCanvas":"LoadingCanvas","./networking/APIConnector":"APIConnector","./utils/Utils":"Utils"}],XocDiaHistoryItem:[function(t,e,o){"use strict";cc._RF.push(e,"47b9ayza8VMJpnpIPm+VVNd","XocDiaHistoryItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,a=cc._decorator.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dots=[],e}return i(e,t),e.prototype.setup=function(t){for(var e=0;e<this.dots.length;e++)this.dots[e].node.color=0==t[e]?this.whiteColor:this.blackColor},r([a([cc.Sprite])],e.prototype,"dots",void 0),r([a([cc.Color])],e.prototype,"whiteColor",void 0),r([a([cc.Color])],e.prototype,"blackColor",void 0),r([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{}]},{},["DataManager","PopupControllerBase","XocDiaBetPanel","XocDiaChipSelectionItem","XocDiaGameplayController","XocDiaHistoryItem","ChipInfo","ChipInfoChipItem","ChipObject","ChipObjectUtils","ChipPoolController","LoadingCanvas","ToastController","ToastItemController","APIConnector","ArrayUtils","Callback","ColorAssembler2D","ColorOverTime","LiteEvent","MultipleScreenSizeHelper","NodeUtils","RotateOverTime","Utils"]);