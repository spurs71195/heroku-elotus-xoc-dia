window.__require=function t(e,o,n){function i(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=o[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({APIConnector:[function(t,e,o){"use strict";cc._RF.push(e,"af72f6nUMVGuI8CrwbC8XBo","APIConnector");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.LotteryScratchTicketData=o.LotteryScratchTopPrize=o.LotteryScratchResultConfig=o.LotteryScratchResult=o.LotteryScratchGameInfo=o.HooHeyHowResponseHistoryRecord=o.HooHeyHowResponseShowResultInfo=o.HooHeyHowResponseGameInfo=o.XocDiaResponseHistoryRecord=o.XocDiaResponseShowResultInfo=o.XocDiaResponseGameInfo=o.RequestBet=o.ResponseBetItem=o.ResponseMyBet=o.ResponseGameInfoBetPosition=o.ResponseGameInfoBase=o.ResponseUserGameRate=o.ResponseUserBalancePage=o.ResponseUserBalanceLinks=o.ResponseUserBalanceBalance=o.ResponseUserBalanceEmbedded=o.ResponseUserBalance=o.ResponseUserInfo=o.ResponseLogin=o.ResponseError=void 0;var s=cc._decorator.ccclass,c=t("../DataManager"),a=t("../gameplay/common/ToastController"),l=t("../data/LoadingCanvas"),u=t("../utils/Utils"),h=function(){function t(){}var e;return e=t,Object.defineProperty(t,"Instance",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!1,configurable:!0}),t.prototype.sendHTTPRequest=function(t,o,n,i){var r=JSON.stringify(o),s=new XMLHttpRequest,a=e.Url+t;s.open(o?"POST":"GET",a,!0),s.onreadystatechange=function(){if(4===s.readyState){if(401===s.status)return void u.Utils.navigateTo("/main/home");if(200===s.status){var t=s.responseText;n(t)}else i&&i(s.responseText)}},s.setRequestHeader("Accept","application/json, text/plain, */*"),s.setRequestHeader("Accept","text/plain"),s.setRequestHeader("Accept","*/*"),s.setRequestHeader("Content-Type","application/json");var l=c.default.Instance.LoginData;l&&s.setRequestHeader("Authorization",l.token_type+" "+l.access_token),o?s.send(r):s.send()},t.prototype.send=function(t,e,o,n){l.default.Instance.show(),this.sendHTTPRequest(t,e,function(t){try{var e=JSON.parse(t);if(e&&o)o(e);else if(!e&&n){var i="C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!";a.default.Instance.showToast(i,a.ToastType.Error),n(i)}}catch(r){throw n&&(i="C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!",a.default.Instance.showToast(i,a.ToastType.Error),n(i)),r}finally{l.default.Instance.hide()}},function(t){var e,o=JSON.parse(t),i="C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!";switch(null!==(e=null==o?void 0:o.code)&&void 0!==e?e:999){case 3001:i="H\u1ebft th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c, vui l\xf2ng th\u1eed l\u1ea1i sau";break;case 3002:i="Kh\xf4ng \u0111\u1ee7 ti\u1ec1n!";break;case 3003:i="Th\xf4ng tin t\xe0i to\u1ea3n kh\xf4ng h\u1ee3p l\u1ec7!";break;case 3004:i="Kh\xf4ng th\u1ec3 \u0111\u1eb7t c\u01b0\u1ee3c v\xe0o CH\u1eb4N v\xe0 L\u1eba";break;case 3101:case 3102:case 999:i="C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!"}a.default.Instance.showToast(i,a.ToastType.Error),n&&n(i),l.default.Instance.hide()})},t.prototype.sendWithRawResponse=function(t,e,o,n){this.sendHTTPRequest(t,e,function(t){try{var e=t;e&&o?o(e):!e&&n&&n("ERROR: DATA IS NULL")}catch(i){throw n&&n(i.toString()),i}},function(t){n&&n(t)})},t.prototype.Login=function(t,o,n,i){var r={username:t,password:o};this.sendWithRawResponse(e.ApiLogin,r,n,i)},t.prototype.GetUserInfo=function(t,o){this.send(e.ApiGetUserInfo,null,t,o)},t.prototype.GetUserBalance=function(t,o){this.send(e.ApiGetUserBalance,null,t,o)},t.prototype.GetUserGameRate=function(t,o){this.send(e.ApiGetUserGameRate,null,t,o)},t.ApiLogin="/api/auth/users/signin",t.ApiGetUserInfo="/account/accounts/me/userinfo",t.ApiGetUserBalance="/account/balances/me",t.ApiGetUserGameRate="/account/accountGameRates/me",t.Url=window.location.origin,t.instance=null,e=r([s],t)}();o.default=h;o.ResponseError=function(){};o.ResponseLogin=function(){};o.ResponseUserInfo=function(){};o.ResponseUserBalance=function(){};o.ResponseUserBalanceEmbedded=function(){};o.ResponseUserBalanceBalance=function(){};o.ResponseUserBalanceLinks=function(){};o.ResponseUserBalancePage=function(){};o.ResponseUserGameRate=function(){};var p=function(){};o.ResponseGameInfoBase=p;o.ResponseGameInfoBetPosition=function(){};o.ResponseMyBet=function(){};o.ResponseBetItem=function(){};o.RequestBet=function(){this.listBetItems=[]};var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(p);o.XocDiaResponseGameInfo=f;o.XocDiaResponseShowResultInfo=function(){};o.XocDiaResponseHistoryRecord=function(){};var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(p);o.HooHeyHowResponseGameInfo=d;o.HooHeyHowResponseShowResultInfo=function(){};o.HooHeyHowResponseHistoryRecord=function(){};o.LotteryScratchGameInfo=function(){};o.LotteryScratchResult=function(){};o.LotteryScratchResultConfig=function(){};o.LotteryScratchTopPrize=function(){};o.LotteryScratchTicketData=function(){},cc._RF.pop()},{"../DataManager":"DataManager","../data/LoadingCanvas":"LoadingCanvas","../gameplay/common/ToastController":"ToastController","../utils/Utils":"Utils"}],ArrayUtils:[function(t,e,o){"use strict";cc._RF.push(e,"2f5faYXcAtDQLB77UnLKVrw","ArrayUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Utils");Array.prototype.getRandomElementAndRemove=function(t){for(var e=[];e.length<t&&this.length>0;){var o=n.Utils.randomRangeInt(0,this.length);e.push(this[o]),this.slice(o,1)}return e},Array.prototype.remove=function(t){var e=this.indexOf(t);return e>-1&&this.slice(e,1),this},Array.prototype.contain=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return!0;return!1},Array.prototype.addRange=function(t){for(var e=0,o=t;e<o.length;e++){var n=o[e];this.push(n)}return this},cc._RF.pop()},{"./Utils":"Utils"}],BetPanelBase:[function(t,e,o){"use strict";cc._RF.push(e,"f80969ZDGRNkot9gV68bzgh","BetPanelBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=t("../../utils/LiteEvent"),a=cc._decorator.property,l=t("../../utils/Utils"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onPanelClickEvent=new c.LiteEvent,e.id="",e.odd=2,e.betPosition=null,e.winEffect=null,e.txtOdd=null,e.txtTotalPlayers=null,e.txtPendingBetAmount=null,e.txtConfirmedBetAmount=null,e.txtOtherBetAmount=null,e.totalOtherBetAmount=0,e.totalMyConfirmedBetAmount=0,e.totalMyPendingBetAmount=0,e}return i(e,t),e.prototype.start=function(){this.clear(),this.updateGameRate(0)},e.prototype.updateGameRate=function(t){this.txtOdd.string="1:"+(this.odd*t).toFixed(2)},e.prototype.updateTotalPlayers=function(t){this.txtTotalPlayers&&l.Utils.FormatRangeChipForLabel(this.txtTotalPlayers,t,0,!1)},e.prototype.addOtherBetAmount=function(t){this.totalOtherBetAmount+=t,this.txtOtherBetAmount&&l.Utils.FormatRangeChipForLabel(this.txtOtherBetAmount,this.totalOtherBetAmount+this.totalMyConfirmedBetAmount)},e.prototype.addConfirmBetAmount=function(t){this.totalMyConfirmedBetAmount+=t,this.txtConfirmedBetAmount&&l.Utils.FormatRangeChipForLabel(this.txtConfirmedBetAmount,this.totalMyConfirmedBetAmount),this.txtOtherBetAmount&&l.Utils.FormatRangeChipForLabel(this.txtOtherBetAmount,this.totalOtherBetAmount+this.totalMyConfirmedBetAmount)},e.prototype.addPendingBetAmount=function(t){this.totalMyPendingBetAmount+=t,this.txtPendingBetAmount&&l.Utils.FormatRangeChipForLabel(this.txtPendingBetAmount,this.totalMyPendingBetAmount)},e.prototype.clearPendingBetAmount=function(){this.totalMyPendingBetAmount=0,this.txtPendingBetAmount&&l.Utils.FormatRangeChipForLabel(this.txtPendingBetAmount,this.totalMyPendingBetAmount)},e.prototype.confirmPendingBetAmount=function(){this.addConfirmBetAmount(this.totalMyPendingBetAmount),this.clearPendingBetAmount()},e.prototype.onPanelClicked=function(){this.onPanelClickEvent.trigger(this)},e.prototype.setWinEffect=function(t){this.winEffect.active=t},e.prototype.clear=function(){this.setWinEffect(!1),this.totalOtherBetAmount=0,this.totalMyConfirmedBetAmount=0,this.totalMyPendingBetAmount=0,this.txtConfirmedBetAmount&&l.Utils.FormatRangeChipForLabel(this.txtConfirmedBetAmount,this.totalMyConfirmedBetAmount),this.txtPendingBetAmount&&l.Utils.FormatRangeChipForLabel(this.txtPendingBetAmount,this.totalMyPendingBetAmount),this.txtOtherBetAmount&&l.Utils.FormatRangeChipForLabel(this.txtOtherBetAmount,this.totalOtherBetAmount+this.totalMyConfirmedBetAmount),this.txtTotalPlayers&&(this.txtTotalPlayers.string="0")},r([a(cc.String)],e.prototype,"id",void 0),r([a(cc.Integer)],e.prototype,"odd",void 0),r([a(cc.Node)],e.prototype,"betPosition",void 0),r([a(cc.Node)],e.prototype,"winEffect",void 0),r([a(cc.Label)],e.prototype,"txtOdd",void 0),r([a(cc.Label)],e.prototype,"txtTotalPlayers",void 0),r([a(cc.Label)],e.prototype,"txtPendingBetAmount",void 0),r([a(cc.Label)],e.prototype,"txtConfirmedBetAmount",void 0),r([a(cc.Label)],e.prototype,"txtOtherBetAmount",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../utils/LiteEvent":"LiteEvent","../../utils/Utils":"Utils"}],Callback:[function(t,e,o){"use strict";cc._RF.push(e,"5456aFaFJ9IBZF0J4Vg8OJ+","Callback"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ChipInfo:[function(t,e,o){"use strict";cc._RF.push(e,"b27e02HfVFAqpEv1WwbmBOV","ChipInfo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc.SpriteFrame,c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprIcon=null,e.amount=0,e}return i(e,t),e.prototype.VndAmount=function(){return this.amount},r([l(s)],e.prototype,"sprIcon",void 0),r([l()],e.prototype,"amount",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ChipObjectUtils:[function(t,e,o){"use strict";cc._RF.push(e,"90d6bUoDsBECZbTkj2j+P05","ChipObjectUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.ChipObjectUtils=void 0;var n=cc.Vec2,i=function(){function t(){}return t.moveTo=function(t,e,o,i,r,s,c){void 0===r&&(r=!0),void 0===s&&(s=null),void 0===c&&(c=null);for(var a=this.MoveChipDelay,l=function(l){var u=t[l],h=0==l?s:l==t.length-1?c:null,p=new n(o.x,o.y);r&&(p.x+=60*Math.random(),p.y+=60*Math.random()),u.moveTo(e,p,function(){i&&u.enqueue(),h&&h()},a),a/=2},u=0;u<t.length;u++)l(u)},t.moveFromCurrentPositionTo=function(t,e,o,i,r,s){void 0===i&&(i=!0),void 0===r&&(r=null),void 0===s&&(s=null);for(var c=this.MoveChipDelay,a=function(a){var l=t[a],u=0==a?r:a==t.length-1?s:null,h=new n(e.x,e.y);i&&(h.x+=60*Math.random(),h.y+=60*Math.random()),l.moveFromCurrentPositionTo(h,function(){o&&l.enqueue(),u&&u()},c),c/=2},l=0;l<t.length;l++)a(l)},t.moveAndStackTo=function(t,e,o,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);for(var s=function(s){var a=t[s],l=0==s?i:s==t.length-1?r:null,u=s/t.length*c.MoveChipDelay,h=o;h.y+=s*c.ChipStackOffset,a.node.getParent()&&a.node.setSiblingIndex(a.node.getParent().childrenCount-1),a.moveTo(e,h,function(){n&&a.enqueue(),l()&&l()},u)},c=this,a=0;a<t.length;a++)s(a)},t.moveFromCurrentPositionAndStackTo=function(t,e,o,n,i){void 0===n&&(n=null),void 0===i&&(i=null);for(var r=function(r){var c=t[r],a=0==r?n:r==t.length-1?i:null,l=r/t.length*s.MoveChipDelay,u=e;u.y+=r*s.ChipStackOffset,c.node.getParent()&&c.node.setSiblingIndex(c.node.getParent().childrenCount-1),c.moveFromCurrentPositionTo(u,function(){o&&c.enqueue(),a()&&a()},l)},s=this,c=0;c<t.length;c++)r(c)},t.MoveChipDelay=.03,t.MoveChipDuration=.25,t.ChipStackOffset=2,t}();o.ChipObjectUtils=i,cc._RF.pop()},{}],ChipObject:[function(t,e,o){"use strict";cc._RF.push(e,"70f2f3zvMVCsIJJm2oHBLPD","ChipObject");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../utils/LiteEvent"),c=t("../../utils/Utils"),a=cc.Vec2,l=cc._decorator,u=l.ccclass,h=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.OnEnqueueEvent=new s.LiteEvent,e.imgChip=null,e.txtValue=null,e.chipAmount=0,e.MoveChipDelay=.03,e.MoveChipDuration=.15,e.ChipStackOffset=.02,e.moveAction=null,e}return i(e,t),Object.defineProperty(e.prototype,"ChipAmount",{get:function(){return this.chipAmount},enumerable:!1,configurable:!0}),e.prototype.setAmount=function(t){this.chipAmount=t,c.Utils.FormatChipForLabel(this.txtValue,this.chipAmount)},e.prototype.setRespectiveStackAmount=function(t){c.Utils.FormatChipForLabel(this.txtValue,t)},e.prototype.enqueue=function(){this.OnEnqueueEvent.trigger(this)},e.prototype.moveFromCurrentPositionTo=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=0),this.moveTo(new a(this.node.position.x,this.node.position.y),t,e,o,!1)},e.prototype.moveTo=function(t,e,o,n,i,r){void 0===o&&(o=null),void 0===n&&(n=0),void 0===i&&(i=!0),void 0===r&&(r=!0),null!=this.moveAction&&(this.moveAction.isDone()||null==this.moveAction.getOriginalTarget()||this.node.stopAction(this.moveAction));var s=i?this.node.parent.convertToNodeSpaceAR(t):t,c=r?this.node.parent.convertToNodeSpaceAR(e):e,l=this;this.node.position=new cc.Vec3(s.x,s.y,this.node.position.z);var u=cc.sequence(cc.delayTime(n),cc.moveTo(this.MoveChipDuration,new a(c.x,c.y)),cc.callFunc(function(){o&&o(),l.moveAction=null},this));this.moveAction=u,this.node.runAction(u)},r([h(cc.Sprite)],e.prototype,"imgChip",void 0),r([h(cc.Label)],e.prototype,"txtValue",void 0),r([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../utils/LiteEvent":"LiteEvent","../../utils/Utils":"Utils"}],ChipPoolController:[function(t,e,o){"use strict";cc._RF.push(e,"16aacF/7spADa5crk+wlB0y","ChipPoolController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./ChipObject"),c=t("typescript-collections"),a=cc.Vec2,l=cc.Vec3,u=t("../../data/ResourceManager"),h=cc._decorator,p=h.ccclass,f=h.property,d=function(t){function e(){var e=t.call(this)||this;return e.chipPrefab=null,e.chipContainer=null,e.pool=new c.Queue,e.activeChips=[],e.enqueue=e.enqueue.bind(e),e}return i(e,t),e.prototype.createChip=function(t,e,o){void 0===e&&(e=a.ZERO),void 0===o&&(o=this.chipContainer);var n=this.getOrCreateChip();return n.imgChip.spriteFrame=u.default.Instance.getChipIconForAmount(t),n.setAmount(t),n.node.setParent(o),n.node.position=new l(e.x,e.y,this.node.position.z),n.node.setSiblingIndex(n.node.getParent().childrenCount-1),n},e.prototype.getOrCreateChip=function(){var t;return(t=this.pool.size()>0?this.pool.dequeue():cc.instantiate(this.chipPrefab).getComponent(s.default)).node.active=!0,t.OnEnqueueEvent.on(this.enqueue),this.activeChips.push(t),t},e.prototype.enqueue=function(t){t.node.active=!1,t.OnEnqueueEvent.off(this.enqueue);var e=this.activeChips.indexOf(t);e>-1&&this.activeChips.slice(e,1),this.pool.contains(t)||this.pool.enqueue(t)},e.prototype.enqueueAllActiveChip=function(){for(var t=this.activeChips.length-1;t>=0;t--)this.enqueue(this.activeChips[t])},r([f(cc.Prefab)],e.prototype,"chipPrefab",void 0),r([f(cc.Node)],e.prototype,"chipContainer",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../data/ResourceManager":"ResourceManager","./ChipObject":"ChipObject","typescript-collections":16}],ChipSelectionGroup:[function(t,e,o){"use strict";cc._RF.push(e,"5cfd7KsikxL2K/2rXFEsBcY","ChipSelectionGroup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=t("./ChipSelectionItem"),l=t("../../utils/Utils"),u=t("../../data/ResourceManager"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chipSelectionPrefab=null,e.chipSelectionContainer=null,e.chipSelectionItems=[],e}return i(e,t),e.prototype.start=function(){var t=this;u.default.Instance.chipInfos.forEach(function(e){var o=cc.instantiate(t.chipSelectionPrefab).getComponent(a.default);o.node.active=!0,o.node.setParent(t.chipSelectionContainer),o.setup(e),o.tglItem.uncheck(),t.chipSelectionItems.push(o)}),this.chipSelectionItems[0].tglItem.check()},e.prototype.selectRandomChip=function(){this.chipSelectionItems[l.Utils.randomRangeInt(0,this.chipSelectionItems.length)].tglItem.check()},e.prototype.getSelectedAmount=function(){var t,e=this.chipSelectionItems.find(function(t){return t.tglItem.isChecked});return null!==(t=null==e?void 0:e.Info.VndAmount())&&void 0!==t?t:0},r([c(cc.Prefab)],e.prototype,"chipSelectionPrefab",void 0),r([c(cc.Node)],e.prototype,"chipSelectionContainer",void 0),r([s()],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../data/ResourceManager":"ResourceManager","../../utils/Utils":"Utils","./ChipSelectionItem":"ChipSelectionItem"}],ChipSelectionItem:[function(t,e,o){"use strict";cc._RF.push(e,"be5b9FOWMBHX6GvNmqasIbe","ChipSelectionItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=t("../../utils/Utils"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tglItem=null,e.sprChip=null,e.sprChipChecked=null,e.txtAmount=null,e}return i(e,t),e.prototype.setup=function(t){this.Info=t,this.sprChip.spriteFrame=t.sprIcon,this.sprChipChecked.spriteFrame=t.sprIcon,a.Utils.FormatChipForLabel(this.txtAmount,t.amount)},r([c(cc.Toggle)],e.prototype,"tglItem",void 0),r([c(cc.Sprite)],e.prototype,"sprChip",void 0),r([c(cc.Sprite)],e.prototype,"sprChipChecked",void 0),r([c(cc.Label)],e.prototype,"txtAmount",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../utils/Utils":"Utils"}],ColorAssembler2D:[function(t,e,o){"use strict";cc._RF.push(e,"2e129NVa8ZGspah5mBhFC0o","ColorAssembler2D");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=s.executeInEditMode,u=s.requireComponent,h=s.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._colors=[],e}return i(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return this._colors},set:function(t){this._colors=t,this._updateColors()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},e.prototype.onDisable=function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},e.prototype._updateColors=function(){var t=this.getComponent(cc.RenderComponent);if(t){var e=t._assembler;if(e instanceof cc.Assembler2D){var o=e._renderData.uintVDatas[0];if(o)for(var n=this.node.color,i=e.floatsPerVert,r=0,s=e.colorOffset,c=o.length;s<c;s+=i)o[s]=(this.colors[r++]||n)._val}}},r([a],e.prototype,"_colors",void 0),r([a({type:[cc.Color]})],e.prototype,"colors",null),r([c,l,u(cc.RenderComponent),h("i18n:MAIN_MENU.component.renderers/ColorAssembler2D-lamyoung.com")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ColorOverTime:[function(t,e,o){"use strict";cc._RF.push(e,"232fcxvWaBNXpSSigh9Z4ds","ColorOverTime");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=.5,e.colors=[],e.colorIndex=0,e}return i(e,t),e.prototype.onLoad=function(){this.nextColor=this.nextColor.bind(this)},e.prototype.onEnable=function(){this.nextColor()},e.prototype.nextColor=function(){this.colorIndex++,this.colors.length>0&&(this.tween=cc.tween(this.node).to(this.duration,{color:this.colors[this.colorIndex%this.colors.length],opacity:this.colors[this.colorIndex%this.colors.length].a}).call(this.nextColor).start())},e.prototype.onDisable=function(){this.tween&&this.tween.stop()},r([a(cc.Integer)],e.prototype,"duration",void 0),r([a([cc.Color])],e.prototype,"colors",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],1:[function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t("./BSTreeKV").default);o.default=r},{"./BSTreeKV":2}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./Queue"),r=function(){function t(t){this.root=null,this.compare=t||n.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!n.isUndefined(t)&&null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0)},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!n.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var e=this.searchNode(this.root,t);if(null!==e)return e.element},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(e){return t.push(e),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var o=1;null!==t&&0!==o;)(o=this.compare(e,t.element))<0?t=t.leftCh:o>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,o){null===t||o.stop||(this.inorderTraversalAux(t.leftCh,e,o),o.stop||(o.stop=!1===e(t.element),o.stop||this.inorderTraversalAux(t.rightCh,e,o)))},t.prototype.levelTraversalAux=function(t,e){var o=new i.default;for(null!==t&&o.enqueue(t),t=o.dequeue()||null;null!=t;){if(!1===e(t.element))return;null!==t.leftCh&&o.enqueue(t.leftCh),null!==t.rightCh&&o.enqueue(t.rightCh),t=o.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,e,o){null===t||o.stop||(o.stop=!1===e(t.element),o.stop||(this.preorderTraversalAux(t.leftCh,e,o),o.stop||this.preorderTraversalAux(t.rightCh,e,o)))},t.prototype.postorderTraversalAux=function(t,e,o){null===t||o.stop||(this.postorderTraversalAux(t.leftCh,e,o),o.stop||(this.postorderTraversalAux(t.rightCh,e,o),o.stop||(o.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,o=this.root;null!==o;){var n=this.compare(t.element,o.element);if(0===n)return null;n<0?(e=o,o=o.leftCh):(e=o,o=o.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();o.default=r},{"./Queue":12,"./util":17}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./Dictionary"),r=t("./Set"),s=function(){function t(t){this.toStrF=t||n.defaultToString,this.dictionary=new i.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,e){if(void 0===e&&(e=1),n.isUndefined(t)||e<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=e;else{var o={value:t,copies:e};this.dictionary.setValue(t,o)}return this.nElements+=e,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,e){if(void 0===e&&(e=1),n.isUndefined(t)||e<=0)return!1;if(this.contains(t)){var o=this.dictionary.getValue(t);return e>o.copies?this.nElements-=o.copies:this.nElements-=e,o.copies-=e,o.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],e=0,o=this.dictionary.values();e<o.length;e++)for(var n=o[e],i=n.value,r=n.copies,s=0;s<r;s++)t.push(i);return t},t.prototype.toSet=function(){for(var t=new r.default(this.toStrF),e=0,o=this.dictionary.values();e<o.length;e++){var n=o[e].value;t.add(n)}return t},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,o){for(var n=o.value,i=o.copies,r=0;r<i;r++)if(!1===t(n))return!1;return!0})},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();o.default=s},{"./Dictionary":4,"./Set":13,"./util":17}],4:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||n.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!n.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!n.isUndefined(t)&&!n.isUndefined(e)){var o,i="$"+this.toStr(t),r=this.table[i];return n.isUndefined(r)?(this.nElements++,o=void 0):o=r.value,this.table[i]={key:t,value:e},o}},t.prototype.remove=function(t){var e="$"+this.toStr(t),o=this.table[e];if(!n.isUndefined(o))return delete this.table[e],this.nElements--,o.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var o=this.table[e];t.push(o.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var o=this.table[e];t.push(o.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(n.has(this.table,e)){var o=this.table[e];if(!1===t(o.key,o.value))return}},t.prototype.containsKey=function(t){return!n.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,o){t+="\n\t"+e+" : "+o}),t+"\n}"},t}();o.default=i},{"./util":17}],5:[function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Dictionary"),s=t("./util"),c=function(t){function e(e,o){var n=t.call(this,o)||this;return n.defaultFactoryFunction=e,n}return i(e,t),e.prototype.setDefault=function(e,o){var n=t.prototype.getValue.call(this,e);return s.isUndefined(n)?(this.setValue(e,o),o):n},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(r.default);o.default=c},{"./Dictionary":4,"./util":17}],6:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./arrays"),r=function(){function t(t){this.data=[],this.compare=t||n.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)i.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)i.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!n.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=n.compareToEquals(this.compare);return i.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){i.forEach(this.data,t)},t}();o.default=r},{"./arrays":15,"./util":17}],7:[function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Dictionary"),s=t("./util"),c=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),a=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),l=function(t){function e(e){var o=t.call(this,e)||this;return o.head=new a,o.tail=new a,o.head.next=o.tail,o.tail.prev=o.head,o}return i(e,t),e.prototype.appendToTail=function(t){var e=this.tail.prev;e.next=t,t.prev=e,t.next=this.tail,this.tail.prev=t},e.prototype.getLinkedDictionaryPair=function(t){if(!s.isUndefined(t)){var e="$"+this.toStr(t);return this.table[e]}},e.prototype.getValue=function(t){var e=this.getLinkedDictionaryPair(t);if(!s.isUndefined(e))return e.value},e.prototype.remove=function(e){var o=this.getLinkedDictionaryPair(e);if(!s.isUndefined(o))return t.prototype.remove.call(this,e),o.unlink(),o.value},e.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},e.prototype.replace=function(t,e){var o="$"+this.toStr(e.key);e.next=t.next,e.prev=t.prev,this.remove(t.key),e.prev.next=e,e.next.prev=e,this.table[o]=e,++this.nElements},e.prototype.setValue=function(t,e){if(!s.isUndefined(t)&&!s.isUndefined(e)){var o=this.getLinkedDictionaryPair(t),n=new c(t,e),i="$"+this.toStr(t);return s.isUndefined(o)?(this.appendToTail(n),this.table[i]=n,void++this.nElements):(this.replace(o,n),o.value)}},e.prototype.keys=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(e,o){t.push(o)}),t},e.prototype.forEach=function(t){for(var e=this.head.next;e.next;){if(!1===t(e.key,e.value))return;e=e.next}},e}(r.default);o.default=l},{"./Dictionary":4,"./util":17}],8:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./arrays"),r=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(n.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||n.isUndefined(t))return!1;var o=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=o,this.lastNode=o;else if(e===this.nElements)this.lastNode.next=o,this.lastNode=o;else if(0===e)o.next=this.firstNode,this.firstNode=o;else{var i=this.nodeAtIndex(e-1);if(null===i)return!1;o.next=i.next,i.next=o}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var o=e||n.defaultEquals;if(n.isUndefined(t))return-1;for(var i=this.firstNode,r=0;null!==i;){if(o(i.element,t))return r;r++,i=i.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var o=e||n.defaultEquals;if(this.nElements<1||n.isUndefined(t))return!1;for(var i=null,r=this.firstNode;null!==r;){if(o(r.element,t))return null===i?(this.firstNode=r.next,r===this.lastNode&&(this.lastNode=null)):r===this.lastNode?(this.lastNode=i,i.next=r.next,r.next=null):(i.next=r.next,r.next=null),this.nElements--,!0;i=r,r=r.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,o){var i=o||n.defaultEquals;return e instanceof t&&this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,i)},t.prototype.equalsAux=function(t,e,o){for(;null!==t&&null!==e;){if(!o(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var o=this.nodeAtIndex(t-1);null===o?(e=this.firstNode.element,this.firstNode=this.firstNode.next):o.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=o),null!==o&&null!==o.next&&(e=o.next.element,o.next=o.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,o=null;null!==e;)o=e.next,e.next=t,t=e,e=o;o=this.firstNode,this.firstNode=this.lastNode,this.lastNode=o},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return i.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,o=0;o<t&&null!==e;o++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();o.default=r},{"./arrays":15,"./util":17}],9:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./Dictionary"),r=t("./arrays"),s=function(){function t(t,e,o){void 0===o&&(o=!1),this.dict=new i.default(t),this.equalsF=e||n.defaultEquals,this.allowDuplicate=o}return t.prototype.getValue=function(t){var e=this.dict.getValue(t);return n.isUndefined(e)?[]:r.copy(e)},t.prototype.setValue=function(t,e){if(n.isUndefined(t)||n.isUndefined(e))return!1;var o=this.dict.getValue(t);return n.isUndefined(o)?(this.dict.setValue(t,[e]),!0):!(!this.allowDuplicate&&r.contains(o,e,this.equalsF)||(o.push(e),0))},t.prototype.remove=function(t,e){if(n.isUndefined(e)){var o=this.dict.remove(t);return!n.isUndefined(o)}var i=this.dict.getValue(t);return!(n.isUndefined(i)||!r.remove(i,e,this.equalsF)||(0===i.length&&this.dict.remove(t),0))},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],e=0,o=this.dict.values();e<o.length;e++)for(var n=0,i=o[e];n<i.length;n++){var r=i[n];t.push(r)}return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();o.default=s},{"./Dictionary":4,"./arrays":15,"./util":17}],10:[function(t,e,o){"use strict";var n;Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(n||(n={}));var i=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.rootIds=t,this.nodes=e,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,e=this.rootIds;t<e.length;t++){var o=e[t];this.createEmptyNodeIfNotExist(o)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var e=0,o=this.nodes[t];e<o.length;e++){var n=o[e];this.createEmptyNodeIfNotExist(n)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(t[e]=this.nodes[e].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){for(var t=this,e=[],o=0;o<this.rootIds.length;o++){var n=this.rootIds[o];e.push({id:n,level:0,hasParent:!1,childrenCount:0}),a(n,this.nodes,e,0)}for(var i=0,r=e;i<r.length;i++){var s=r[i];s.childrenCount=(c=s.id,t.nodes[c]?t.nodes[c].length:0)}var c;return e;function a(t,e,o,n){if(void 0===n&&(n=0),t&&e&&o&&e[t]){n++;for(var i=e[t],r=0;r<i.length;r++){var s=i[r];o.push({id:s,level:n,hasParent:!0}),a(s,e,o,n)}n--}}},t.prototype.moveIdBeforeId=function(t,e){return this.moveId(t,e,n.BEFORE)},t.prototype.moveIdAfterId=function(t,e){return this.moveId(t,e,n.AFTER)},t.prototype.moveIdIntoId=function(t,e,o){return void 0===o&&(o=!0),o?this.moveId(t,e,n.INSIDE_AT_START):this.moveId(t,e,n.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,e){var o=this.findRootId(t),n=this.findRootId(e);this.swapRootPositionWithRootPosition(o,n)},t.prototype.swapRootPositionWithRootPosition=function(t,e){var o=this.rootIds[e];this.rootIds[e]=this.rootIds[t],this.rootIds[t]=o},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,e){var o=this.findRootId(t);for(var n in o>-1&&this.insertIdIntoRoot(e,o),this.nodes)if(this.nodes.hasOwnProperty(n)){var i=this.findNodeId(n,t);i>-1&&this.insertIdIntoNode(n,e,i)}},t.prototype.insertIdAfterId=function(t,e){var o=this.findRootId(t);for(var n in o>-1&&this.insertIdIntoRoot(e,o+1),this.nodes)if(this.nodes.hasOwnProperty(n)){var i=this.findNodeId(n,t);i>-1&&this.insertIdIntoNode(n,e,i+1)}},t.prototype.insertIdIntoId=function(t,e){this.nodeInsertAtEnd(t,e),this.nodes[e]=[]},t.prototype.insertIdIntoRoot=function(t,e){if(void 0===e)this.rootInsertAtEnd(t);else if(e<0){var o=this.rootIds.length;this.rootIds.splice(e+o+1,0,t)}else this.rootIds.splice(e,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,e,o){if(this.nodes[t]=this.nodes[t]||[],this.nodes[e]=this.nodes[e]||[],void 0===o)this.nodeInsertAtEnd(t,e);else if(o<0){var n=this.nodes[t].length;this.nodes[t].splice(o+n+1,0,e)}else this.nodes[t].splice(o,0,e)},t.prototype.moveId=function(t,e,o){var i=t,r=this.findRootId(i);for(var s in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}var c=e,a=this.findRootId(c);for(var s in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}if(r>-1){if(a>-1)switch(this.rootDelete(r),a>r&&a--,o){case n.BEFORE:this.insertIdIntoRoot(i,a);break;case n.AFTER:this.insertIdIntoRoot(i,a+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(c,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(c,i)}else for(var s in this.rootDelete(r),this.nodes)if(this.nodes.hasOwnProperty(s)&&(l=this.findNodeId(s,c))>-1){switch(o){case n.BEFORE:this.insertIdIntoNode(s,i,l);break;case n.AFTER:this.insertIdIntoNode(s,i,l+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(c,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(c,i)}break}}else if(a>-1){for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)&&(l=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,l);break}switch(o){case n.BEFORE:this.insertIdIntoRoot(i,a);break;case n.AFTER:this.insertIdIntoRoot(i,a+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(c,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(c,i)}}else{for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)&&(l=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,l);break}for(var s in this.nodes){var l;if(this.nodes.hasOwnProperty(s)&&(l=this.findNodeId(s,c))>-1){switch(o){case n.BEFORE:this.insertIdIntoNode(s,i,l);break;case n.AFTER:this.insertIdIntoNode(s,i,l+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(c,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(c,i)}break}}}},t.prototype.swapArrayElements=function(t,e,o){var n=t[e];return t[e]=t[o],t[o]=n,t},t.prototype.rootDeleteId=function(t){var e=this.findRootId(t);e>-1&&this.rootDelete(e)},t.prototype.nodeAndSubNodesDelete=function(t){for(var e=[],o=0;o<this.nodes[t].length;o++){var n=this.nodes[t][o];this.nodeAndSubNodesDelete(n),e.push(t)}for(this.nodeDelete(t),o=0;o<e.length;o++)this.nodeDelete(e[o])},t.prototype.nodeRefrencesDelete=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var o=0;o<this.nodes[e].length;o++)this.nodes[e][o]===t&&this.nodeDeleteAtIndex(e,o)},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,e){return this.nodes[t].indexOf(e)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,e){this.nodes[t].unshift(e)},t.prototype.nodeInsertAtEnd=function(t,e){this.nodes[t].push(e)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,e){this.nodes[t].splice(e,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();o.default=i},{}],11:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./Heap"),r=function(){function t(t){this.heap=new i.default(n.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();o.default=r},{"./Heap":6,"./util":17}],12:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./LinkedList"),i=function(){function t(){this.list=new n.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();o.default=i},{"./LinkedList":8}],13:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util"),i=t("./arrays"),r=t("./Dictionary"),s=function(){function t(t){this.dictionary=new r.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!n.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(o){return t.contains(o)||e.remove(o),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(o){return!!t.contains(o)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,o){return t(o)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return i.toString(this.toArray())},t}();o.default=s},{"./Dictionary":4,"./arrays":15,"./util":17}],14:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./LinkedList"),i=function(){function t(){this.list=new n.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();o.default=i},{"./LinkedList":8}],15:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./util");function i(t,e,o){for(var i=o||n.defaultEquals,r=t.length,s=0;s<r;s++)if(i(t[s],e))return s;return-1}o.indexOf=i,o.lastIndexOf=function(t,e,o){for(var i=o||n.defaultEquals,r=t.length-1;r>=0;r--)if(i(t[r],e))return r;return-1},o.contains=function(t,e,o){return i(t,e,o)>=0},o.remove=function(t,e,o){var n=i(t,e,o);return!(n<0||(t.splice(n,1),0))},o.frequency=function(t,e,o){for(var i=o||n.defaultEquals,r=t.length,s=0,c=0;c<r;c++)i(t[c],e)&&s++;return s},o.equals=function(t,e,o){var i=o||n.defaultEquals;if(t.length!==e.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!i(t[s],e[s]))return!1;return!0},o.copy=function(t){return t.concat()},o.swap=function(t,e,o){if(e<0||e>=t.length||o<0||o>=t.length)return!1;var n=t[e];return t[e]=t[o],t[o]=n,!0},o.toString=function(t){return"["+t.toString()+"]"},o.forEach=function(t,e){for(var o=0,n=t;o<n.length;o++)if(!1===e(n[o]))return}},{"./util":17}],16:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./arrays");o.arrays=n;var i=t("./Bag");o.Bag=i.default;var r=t("./BSTree");o.BSTree=r.default;var s=t("./BSTreeKV");o.BSTreeKV=s.default;var c=t("./Dictionary");o.Dictionary=c.default;var a=t("./Heap");o.Heap=a.default;var l=t("./LinkedDictionary");o.LinkedDictionary=l.default;var u=t("./LinkedList");o.LinkedList=u.default;var h=t("./MultiDictionary");o.MultiDictionary=h.default;var p=t("./FactoryDictionary");o.FactoryDictionary=p.default;var f=t("./FactoryDictionary");o.DefaultDictionary=f.default;var d=t("./Queue");o.Queue=d.default;var y=t("./PriorityQueue");o.PriorityQueue=y.default;var v=t("./Set");o.Set=v.default;var m=t("./Stack");o.Stack=m.default;var g=t("./MultiRootTree");o.MultiRootTree=g.default;var _=t("./util");o.util=_},{"./BSTree":1,"./BSTreeKV":2,"./Bag":3,"./Dictionary":4,"./FactoryDictionary":5,"./Heap":6,"./LinkedDictionary":7,"./LinkedList":8,"./MultiDictionary":9,"./MultiRootTree":10,"./PriorityQueue":11,"./Queue":12,"./Set":13,"./Stack":14,"./arrays":15,"./util":17}],17:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty;function i(t){return"function"==typeof t}function r(t){return void 0===t}function s(t){return"[object String]"===Object.prototype.toString.call(t)}o.has=function(t,e){return n.call(t,e)},o.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},o.defaultEquals=function(t,e){return t===e},o.defaultToString=function(t){return null===t?"COLLECTION_NULL":r(t)?"COLLECTION_UNDEFINED":s(t)?"$s"+t:"$o"+t.toString()},o.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(r(t))return"COLLECTION_UNDEFINED";if(s(t))return t.toString();var n="{",i=!0;for(var c in t)o.has(t,c)&&(i?i=!1:n+=e,n=n+c+":"+t[c]);return n+"}"},o.isFunction=i,o.isUndefined=r,o.isString=s,o.reverseCompareFunction=function(t){return r(t)||!i(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,o){return-1*t(e,o)}},o.compareToEquals=function(t){return function(e,o){return 0===t(e,o)}}},{}],DataManager:[function(t,e,o){"use strict";cc._RF.push(e,"84a8a8AUodJOL2URzhL7BB3","DataManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./utils/LiteEvent"),i=function(){function t(){this.onGoldChangedEvent=new n.LiteEvent2,this.onUserInfoChangedEvent=new n.LiteEvent,this.LoginData={access_token:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImpSQU84TW02MWhuQk4tcDNlYm1rbCJ9.eyJpc3MiOiJodHRwczovL2Rldi0yY213NDg5MC5qcC5hdXRoMC5jb20vIiwic3ViIjoiYXV0aDB8NjA4YzEyMzgyNDM3ZTUwMDZmMGIyNjMyIiwiYXVkIjpbImxvdG8iLCJodHRwczovL2Rldi0yY213NDg5MC5qcC5hdXRoMC5jb20vdXNlcmluZm8iXSwiaWF0IjoxNjIwMDk5NTMwLCJleHAiOjE2MjI2OTE1MzAsImF6cCI6Ilh0d0V4VVg4VFQ3SWwyR3ZVWXJMZ2xUYklDTXQ4UWZVIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImd0eSI6InBhc3N3b3JkIiwicGVybWlzc2lvbnMiOltdfQ.Nko0UWxaI1VcJli0iRap6cm4BtRDDWj19Ij4ie616zfwoZ9iUw6P53iYs2SrKPw9aGPhRoSNcNbcCMaNQw7KoQKDwlAhDLzEOTBC4yOv8GGvgYKXlVFjK9nEbHdPv3L6ElEzDtjEQsXYFj5LteNUJ48nNjk09dwUO6RtxuA5DzJindl7YP-dQjlnielyhAoTwj_lZCi0ho-9ZoqyYbvtyU0x7ftEcJUtk-qT9ic_u20-Ibwl8ODe73PTDt-sf7vmHSNDVvDK20hbCdjWBk5MVdEwyHNDKBQh3I7b2_SQ09QXZNMa6SLbBIu-MsjXlGKSCYUiD2zdGeMG58QjZwJgUQ",expires_in:2592e3,id_token:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImpSQU84TW02MWhuQk4tcDNlYm1rbCJ9.eyJuaWNrbmFtZSI6ImRldmFudG8zNjUiLCJuYW1lIjoiZGV2YW50bzM2NUBhbnRvMzY1LmNvbSIsInBpY3R1cmUiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9kZTgyYmYyN2YyODhhOGJhZGIwNjViNDg1ZTNjOGNkMj9zPTQ4MCZyPXBnJmQ9aHR0cHMlM0ElMkYlMkZjZG4uYXV0aDAuY29tJTJGYXZhdGFycyUyRmRlLnBuZyIsInVwZGF0ZWRfYXQiOiIyMDIxLTA1LTA0VDAzOjM4OjUwLjEyMloiLCJlbWFpbCI6ImRldmFudG8zNjVAYW50bzM2NS5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImlzcyI6Imh0dHBzOi8vZGV2LTJjbXc0ODkwLmpwLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2MDhjMTIzODI0MzdlNTAwNmYwYjI2MzIiLCJhdWQiOiJYdHdFeFVYOFRUN0lsMkd2VVlyTGdsVGJJQ010OFFmVSIsImlhdCI6MTYyMDA5OTUzMCwiZXhwIjoxNjIyNjkxNTMwfQ.ARj1gfMfoNbodv6YH3dsU6K_jGFiqdstm8m92oQooJMX0fttoM1zXNa6jWjpujfyVkiXVFBBBtZs2oF2i4U8i2Yj8ZbOiTQr6ezTwK6WEiXqQdzZlCjA4AAWIjYbd7St-JmTvRqsmGxANL38VWO9FsdjSqO3uTGXebLFPLz97CicBeRURJLbBIFXUGT7bVjWPKOJjpJhp4bst4yRx6QudkNVi7eV1HQxo6iPNXEpzy4dLt8Ynwnf7h-GA7W5pOqJNWuNMl2IjEp3cfzAV1ujVKQciIxpttbSrAErTNIl9WNHwd1QGPjDJq10wLXoGE1DsoTDsW0e6s_bzPbKipplag",scope:"openid profile email",token_type:"Bearer"}}return Object.defineProperty(t,"Instance",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.Nickname=function(){return this.userInfo?this.userInfo.username:""},t.prototype.Gold=function(){return this.userBalance?this.userBalance.balance:0},t.prototype.ValidGold=function(){return this.userBalance?this.userBalance.balance+this.userBalance.bonusBalance-this.userBalance.onHoldAmt:0},t.prototype.BettingGold=function(){return this.userBalance?this.userBalance.totalBettingAmt:0},t.prototype.Login=function(t){this.userInfo=t,this.onUserInfoChangedEvent&&this.onUserInfoChangedEvent.trigger(this.userInfo)},t.prototype.UpdateUserBalance=function(t){this.userBalance=t,this.onGoldChangedEvent.trigger(0,this.userBalance.balance)},t.prototype.addGold=function(t){if(this.userInfo){var e=this.userBalance.balance;this.userBalance.balance+=t,this.onGoldChangedEvent.trigger(e,this.userBalance.balance)}},t.prototype.subGold=function(t){var e=this.userBalance.balance;this.userBalance.balance-=t,this.onGoldChangedEvent.trigger(e,this.userBalance.balance)},t.prototype.setGold=function(t){var e=this.userBalance.balance;this.userBalance.balance=t,this.onGoldChangedEvent.trigger(e,this.userBalance.balance)},t.instance=null,t}();o.default=i,cc._RF.pop()},{"./utils/LiteEvent":"LiteEvent"}],GameplayControllerBase:[function(t,e,o){"use strict";cc._RF.push(e,"b1397p77LNF16dUPxdJvLag","GameplayControllerBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.GameplayControllerBase=void 0;var s=cc._decorator.ccclass,c=cc._decorator.property,a=t("./BetPanelBase"),l=t("../common/ChipPoolController"),u=t("../common/ChipSelectionGroup"),h=t("../../data/LoadingCanvas"),p=t("../../utils/Utils"),f=t("../../DataManager"),d=t("../../networking/APIConnector"),y=t("../common/ToastController"),v=cc.Vec3,m=t("./GameplayResultPanelController"),g=function(t){function e(){var e=t.call(this)||this;return e.chipPoolController=null,e.chipSelectionGroup=null,e.resultPanelController=null,e.betPanelNodes=[],e.blockContent=null,e.positionOtherPlayers=null,e.positionMyPlayer=null,e.txtMatchNo=null,e.txtPendingBetAmount=null,e.txtConfirmedBetAmount=null,e.txtGameState=null,e.txtTimeRemains=null,e.txtTotalBetAmount=null,e.txtTotalPlayers=null,e.diskContent=null,e.diskUp=null,e.diskOpenPosition=null,e.effectStartBet=null,e.effectStopBet=null,e.effectGlowOnBetButtons=null,e.betPanels=[],e.pendingBetData=[],e.totalPendingBetAmount=0,e.totalConfirmedBetAmount=0,e.currentTimeRemains=0,e.updateGameInfoTimer=0,e.UpdateGameInfoInterval=3,e.AccessTokenKey="@token",e.AccessTokenTypeKey="@tokenType",e.AccessTokenTypeDefault="Bearer",e.UserInfoKey="@me",e.onGetUserInfoSuccess=e.onGetUserInfoSuccess.bind(e),e.onGetUserInfoFailed=e.onGetUserInfoFailed.bind(e),e.onGetUserBalanceSuccess=e.onGetUserBalanceSuccess.bind(e),e.onGetUserGameRateSuccess=e.onGetUserGameRateSuccess.bind(e),e.onGetUserGameRateFailed=e.onGetUserGameRateFailed.bind(e),e.onUpdateGameInfo=e.onUpdateGameInfo.bind(e),e.onUpdateGameInfoFailed=e.onUpdateGameInfoFailed.bind(e),e.onUpdateHistory=e.onUpdateHistory.bind(e),e.onGameStateChanged=e.onGameStateChanged.bind(e),e.onBetPanelClick=e.onBetPanelClick.bind(e),e.onRequestBetSuccess=e.onRequestBetSuccess.bind(e),e.onRequestBetFailed=e.onRequestBetFailed.bind(e),e}return i(e,t),e.prototype.onLoad=function(){for(var t=0,e=this.betPanelNodes;t<e.length;t++){var o=e[t].getComponent(a.default);o.onPanelClickEvent.on(this.onBetPanelClick),this.betPanels.push(o)}this.blockContent.active=!1},e.prototype.start=function(){setTimeout(function(){h.default.Instance.show()},.01),this.txtGameState.string="...",this.updateGameInfoTimer=this.UpdateGameInfoInterval,this.updateBetEffect(),this.validateLoginData()?(d.default.Instance.GetUserInfo(this.onGetUserInfoSuccess,this.onGetUserInfoFailed),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)):this.onButtonLeaveClick()},e.prototype.validateLoginData=function(){var t=p.Utils.getParamFromUrl("token"),e=p.Utils.getParamFromUrl("token_type");return t?(f.default.Instance.LoginData.access_token=t,localStorage.setItem(this.AccessTokenKey,t)):f.default.Instance.LoginData.access_token=localStorage.getItem(this.AccessTokenKey),e?(f.default.Instance.LoginData.token_type=e,localStorage.setItem(this.AccessTokenTypeKey,e)):f.default.Instance.LoginData.token_type=localStorage.getItem(this.AccessTokenTypeKey),f.default.Instance.LoginData.token_type||(f.default.Instance.LoginData.token_type=this.AccessTokenTypeDefault),!!(f.default.Instance.LoginData&&f.default.Instance.LoginData.access_token&&f.default.Instance.LoginData.token_type)},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:}},e.prototype.update=function(t){this.isValidToken&&(this.currentTimeRemains-=t,this.updateGameInfoTimer-=t,this.txtTimeRemains.string=this.currentTimeRemains>0?this.currentTimeRemains.toFixed():"...",this.updateGameInfoTimer<=0&&(this.requestGetGameInfo(this.onUpdateGameInfo),this.updateGameInfoTimer=Math.min(this.UpdateGameInfoInterval,this.currentTimeRemains>.2?this.currentTimeRemains:.2)))},e.prototype.clear=function(){this.betPanels.forEach(function(t){return t.clear()}),this.chipPoolController.enqueueAllActiveChip(),this.updateBetEffect(),this.totalConfirmedBetAmount=0,p.Utils.FormatRangeChipForLabel(this.txtConfirmedBetAmount,this.totalConfirmedBetAmount)},e.prototype.onGetUserInfoSuccess=function(t){var e=this;f.default.Instance.Login(t),this.isValidToken=!0,h.default.Instance.hide(),d.default.Instance.GetUserBalance(this.onGetUserBalanceSuccess,null),d.default.Instance.GetUserGameRate(this.onGetUserGameRateSuccess,this.onGetUserGameRateFailed),this.requestGetHistory(),this.requestGetGameInfo(function(t){e.onUpdateGameInfo(t),e.onGameStateChanged("",t.state)});var o=JSON.stringify(t);o&&localStorage.setItem(this.UserInfoKey,o)},e.prototype.onGetUserInfoFailed=function(){this.onButtonLeaveClick()},e.prototype.onGetUserBalanceSuccess=function(t){t._embedded.balanceDToes.length>0&&f.default.Instance.UpdateUserBalance(t._embedded.balanceDToes[0])},e.prototype.onGetUserGameRateSuccess=function(t){var e=t._embedded.accountGameRates,o=(null==e?void 0:e.length)>0?e[0].rate:1;this.betPanels.forEach(function(t){return t.updateGameRate(o)})},e.prototype.onGetUserGameRateFailed=function(){this.betPanels.forEach(function(t){return t.updateGameRate(1)})},e.prototype.onUpdateGameInfo=function(t){var e=this;if(this.lastGameInfo=this.currentGameInfo,this.lastGameInfo&&this.lastGameInfo.matchNo!=t.matchNo&&(this.clear(),"SHOW_RESULT"!=t.state&&cc.tween(this.diskUp).to(.5,{scale:1,position:new v}).start()),this.currentGameInfo=t,this.currentTimeRemains=this.currentGameInfo.timeRemains,this.txtMatchNo.string="#"+this.currentGameInfo.matchNo,this.txtTimeRemains.string=this.currentTimeRemains.toString(),this.txtTotalPlayers.string=this.currentGameInfo.totalPlayer.toString(),this.blockContent.active="WAITING_SHOW_RESULT"===this.currentGameInfo.state||"SHOW_RESULT"===this.currentGameInfo.state,"BETTING"===this.currentGameInfo.state){var o=0;this.betPanels.forEach(function(t){var n,i,r,s,c,a,l=e.currentGameInfo.totalBetOnEachPosition[t.id],u=null===(r=null===(i=null===(n=e.currentGameInfo)||void 0===n?void 0:n.myBet)||void 0===i?void 0:i.betItems)||void 0===r?void 0:r.find(function(e){return e.betType==t.id});t.updateTotalPlayers(null!==(s=null==l?void 0:l.totalPlayer)&&void 0!==s?s:0);var h=(null!==(c=null==u?void 0:u.betAmt)&&void 0!==c?c:0)-t.totalMyConfirmedBetAmount;e.betChip(t.id,h,!0)&&(e.totalConfirmedBetAmount+=h,p.Utils.FormatRangeChipForLabel(e.txtConfirmedBetAmount,e.totalConfirmedBetAmount),t.addConfirmBetAmount(h));var f=null!==(a=null==l?void 0:l.totalBetAmount)&&void 0!==a?a:0,d=t.totalOtherBetAmount,y=f-t.totalMyConfirmedBetAmount-d;e.betChip(t.id,y,!1)&&t.addOtherBetAmount(y),o+=f}),p.Utils.FormatRangeChipForLabel(this.txtTotalBetAmount,o)}this.lastGameInfo&&this.lastGameInfo.state!==this.currentGameInfo.state&&this.onGameStateChanged(this.lastGameInfo.state,this.currentGameInfo.state)},e.prototype.onUpdateGameInfoFailed=function(){this.onButtonLeaveClick()},e.prototype.onUpdateHistory=function(t){if(t&&t.length>0)for(var e=t.length-1;e>=0;e--)this.addHistoryRecord(t[e])},e.prototype.onGameStateChanged=function(t,e){var o=this;switch(this.blockContent.active="WAITING_SHOW_RESULT"===e||"SHOW_RESULT"===e,e){case"WAITING_NEW_MATCH":this.txtGameState.string="\u0110ang ch\u1edd v\xe1n m\u1edbi...";break;case"BETTING":this.txtGameState.string="\u0110ang ch\u1edd c\u01b0\u1ee3c...";break;case"WAITING_SHOW_RESULT":this.txtGameState.string="\u0110ang t\u1ed5ng k\u1ebft...";break;case"SHOW_RESULT":this.txtGameState.string="\u0110ang tr\u1ea3 th\u01b0\u1edfng..."}if("SHOW_RESULT"===e){for(var n=this.diskContent.position,i=0;i<20;i++){var r=new cc.Vec3(n.x+p.Utils.randomRange(-20,20),n.y+p.Utils.randomRange(-20,20),0);cc.tween(this.diskContent).delay(.05*i).to(.05,{position:r}).start()}cc.tween(this.diskContent).delay(2).to(.05,{position:n}).call(function(){cc.tween(o.diskUp).to(.5,{scale:.5,position:o.diskOpenPosition.position}).start(),o.resultPanelController.show(o.currentGameInfo),o.showResult()}).start()}"WAITING_NEW_MATCH"===e&&(cc.tween(this.diskUp).to(.5,{scale:1,position:new v}).start(),this.clear(),d.default.Instance.GetUserBalance(this.onGetUserBalanceSuccess,null)),"BETTING"===e&&this.effectStartBet.play("play"),"WAITING_SHOW_RESULT"===e&&this.effectStopBet.play("play"),"BETTING"===t&&this.onButtonCancelClick()},e.prototype.onRequestBetSuccess=function(t){var e=this;this.pendingBetData.forEach(function(t){e.getPanel(t.id).confirmPendingBetAmount()}),this.pendingBetData=[],this.totalConfirmedBetAmount+=this.totalPendingBetAmount,this.totalPendingBetAmount=0,p.Utils.FormatRangeChipForLabel(this.txtConfirmedBetAmount,this.totalConfirmedBetAmount),p.Utils.FormatRangeChipForLabel(this.txtPendingBetAmount,this.totalPendingBetAmount),this.requestGetGameInfo(this.onUpdateGameInfo),this.updateBetEffect(),f.default.Instance.UpdateUserBalance(t),y.default.Instance.showToast("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng!")},e.prototype.onRequestBetFailed=function(){this.onButtonCancelClick()},e.prototype.requestGetGameInfo=function(t){d.default.Instance.send(this.ApiGetGameInfo,null,t,this.onUpdateGameInfoFailed)},e.prototype.requestGetHistory=function(){d.default.Instance.send(this.ApiGetHistory,null,this.onUpdateHistory,null)},e.prototype.requestBet=function(){var t=this.createBetRequest();d.default.Instance.send(this.ApiRequestBet,t,this.onRequestBetSuccess,this.onRequestBetFailed)},e.prototype.canBetOnPanel=function(){if(!this.currentGameInfo||"BETTING"!==this.currentGameInfo.state)return!1;var t=this.chipSelectionGroup.getSelectedAmount();return!(f.default.Instance.ValidGold()<t&&(y.default.Instance.showToast("Kh\xf4ng \u0111\u1ee7 ti\u1ec1n!",y.ToastType.Error),1))},e.prototype.onButtonCancelClick=function(){var t=this;if(this.pendingBetData&&!(this.pendingBetData.length<=0)){var e=0;this.pendingBetData.forEach(function(o){t.getPanel(o.id).clearPendingBetAmount(),e+=o.totalBetAmount,o.chips.forEach(function(e){var o=t.positionMyPlayer.getWorldSpacePositon();e.moveFromCurrentPositionTo(o,function(){e.enqueue()})})}),this.pendingBetData=[],this.totalPendingBetAmount=0,this.updateBetEffect(),p.Utils.FormatRangeChipForLabel(this.txtPendingBetAmount,this.totalPendingBetAmount),f.default.Instance.addGold(e)}},e.prototype.onButtonConfirmClick=function(){!this.currentGameInfo||!this.pendingBetData||this.pendingBetData.length<=0||"BETTING"!==this.currentGameInfo.state||this.requestBet()},e.prototype.onButtonLeaveClick=function(){p.Utils.navigateTo("/main/home")},e.prototype.onBetPanelClick=function(t){if(this.canBetOnPanel(t)){var e=this.chipSelectionGroup.getSelectedAmount(),o=this.betChip(t.id,e,!0),n=this.pendingBetData.find(function(e){return e.id===t.id});n||(n={id:t.id,totalBetAmount:0,chips:[]},this.pendingBetData.push(n)),o&&(t.addPendingBetAmount(e),n.totalBetAmount+=e,n.chips.push(o),f.default.Instance.subGold(e),this.totalPendingBetAmount+=e,p.Utils.FormatRangeChipForLabel(this.txtPendingBetAmount,this.totalPendingBetAmount)),this.updateBetEffect()}},e.prototype.updateBetEffect=function(){this.effectGlowOnBetButtons.active=this.totalPendingBetAmount>0},e.prototype.betChip=function(t,e,o){if(e<=0)return null;var n=this.getPanel(t),i=o?this.positionMyPlayer.getWorldSpacePositon():this.positionOtherPlayers.getWorldSpacePositon(),r=n.betPosition.getWorldSpacePositon();r.x+=p.Utils.randomRange(-80,80),r.y+=p.Utils.randomRange(-10,10);var s=this.chipPoolController.createChip(e);return s.moveTo(i,r),s},e.prototype.getPanel=function(t){return this.betPanels.find(function(e){return e.id===t})},r([c(l.default)],e.prototype,"chipPoolController",void 0),r([c(u.default)],e.prototype,"chipSelectionGroup",void 0),r([c(m.default)],e.prototype,"resultPanelController",void 0),r([c([cc.Node])],e.prototype,"betPanelNodes",void 0),r([c(cc.Node)],e.prototype,"blockContent",void 0),r([c(cc.Node)],e.prototype,"positionOtherPlayers",void 0),r([c(cc.Node)],e.prototype,"positionMyPlayer",void 0),r([c(cc.Label)],e.prototype,"txtMatchNo",void 0),r([c(cc.Label)],e.prototype,"txtPendingBetAmount",void 0),r([c(cc.Label)],e.prototype,"txtConfirmedBetAmount",void 0),r([c(cc.Label)],e.prototype,"txtGameState",void 0),r([c(cc.Label)],e.prototype,"txtTimeRemains",void 0),r([c(cc.Label)],e.prototype,"txtTotalBetAmount",void 0),r([c(cc.Label)],e.prototype,"txtTotalPlayers",void 0),r([c(cc.Node)],e.prototype,"diskContent",void 0),r([c(cc.Node)],e.prototype,"diskUp",void 0),r([c(cc.Node)],e.prototype,"diskOpenPosition",void 0),r([c(cc.Animation)],e.prototype,"effectStartBet",void 0),r([c(cc.Animation)],e.prototype,"effectStopBet",void 0),r([c(cc.Node)],e.prototype,"effectGlowOnBetButtons",void 0),r([s],e)}(cc.Component);o.GameplayControllerBase=g,cc._RF.pop()},{"../../DataManager":"DataManager","../../data/LoadingCanvas":"LoadingCanvas","../../networking/APIConnector":"APIConnector","../../utils/Utils":"Utils","../common/ChipPoolController":"ChipPoolController","../common/ChipSelectionGroup":"ChipSelectionGroup","../common/ToastController":"ToastController","./BetPanelBase":"BetPanelBase","./GameplayResultPanelController":"GameplayResultPanelController"}],GameplayProfileController:[function(t,e,o){"use strict";cc._RF.push(e,"dc4295r4yxBso8tlw9z5vnx","GameplayProfileController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=t("../../utils/Utils"),l=t("../../DataManager"),u=function(t){function e(){var e=t.call(this)||this;return e.txtNickname=null,e.txtGold=null,e.onUserInfoChanged=e.onUserInfoChanged.bind(e),e.onGoldChanged=e.onGoldChanged.bind(e),e}return i(e,t),e.prototype.onEnable=function(){l.default.Instance.onUserInfoChangedEvent.on(this.onUserInfoChanged),l.default.Instance.onGoldChangedEvent.on(this.onGoldChanged)},e.prototype.onDisable=function(){l.default.Instance.onUserInfoChangedEvent.off(this.onUserInfoChanged),l.default.Instance.onGoldChangedEvent.off(this.onGoldChanged)},e.prototype.onUserInfoChanged=function(){this.txtNickname&&(this.txtNickname.string=l.default.Instance.Nickname()),this.txtGold&&(this.txtGold.string=a.Utils.FormatChipForProfile(l.default.Instance.ValidGold()))},e.prototype.onGoldChanged=function(){this.txtGold&&(this.txtGold.string=a.Utils.FormatChipForProfile(l.default.Instance.ValidGold()))},r([c(cc.Label)],e.prototype,"txtNickname",void 0),r([c(cc.Label)],e.prototype,"txtGold",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../DataManager":"DataManager","../../utils/Utils":"Utils"}],GameplayResultPanelController:[function(t,e,o){"use strict";cc._RF.push(e,"e9b7aK4S4VNaqTZr0IQVd3f","GameplayResultPanelController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=t("./GameplayResultPanelItem"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showDuration=.2,e.holdDuration=3,e.itemNodes=[],e.items=[],e}return i(e,t),e.prototype.start=function(){var t=this;this.itemNodes.forEach(function(e){t.items.push(e.getComponent(a.default))}),this.node.scaleY=0},e.prototype.show=function(t){var e;!t||!t.myBet||(null===(e=t.myBet.betItems)||void 0===e?void 0:e.length)<=0||(this.items.forEach(function(e){var o=t.myBet.betItems.find(function(t){return t.betType===e.id});o?(e.node.active=!0,e.setup(o)):e.node.active=!1}),cc.tween(this.node).to(this.showDuration,{scaleY:1}).delay(this.holdDuration).to(this.showDuration,{scaleY:0}).start())},r([c(cc.Integer)],e.prototype,"showDuration",void 0),r([c(cc.Integer)],e.prototype,"holdDuration",void 0),r([c([cc.Node])],e.prototype,"itemNodes",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./GameplayResultPanelItem":"GameplayResultPanelItem"}],GameplayResultPanelItem:[function(t,e,o){"use strict";cc._RF.push(e,"d375eBYigxK15W4kBil/QL4","GameplayResultPanelItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=t("../../utils/Utils"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.txtEarning=null,e}return i(e,t),e.prototype.setup=function(t){a.Utils.FormatEarningForLabel(this.txtEarning,t.wonAmt)},r([c(cc.String)],e.prototype,"id",void 0),r([c(cc.Label)],e.prototype,"txtEarning",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../utils/Utils":"Utils"}],HooHeyHowDiceInfo:[function(t,e,o){"use strict";cc._RF.push(e,"ffec7nxGEZNQZtLsCkIBqk2","HooHeyHowDiceInfo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.icon=null,e}return i(e,t),r([c(cc.String)],e.prototype,"id",void 0),r([c(cc.SpriteFrame)],e.prototype,"icon",void 0),r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],HooHeyHowGameplayController:[function(t,e,o){"use strict";cc._RF.push(e,"b3d3b+/7sdOg7p0CyEkqdtg","HooHeyHowGameplayController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=t("../base/GameplayControllerBase"),a=t("../../networking/APIConnector"),l=t("../../DataManager"),u=cc._decorator.property,h=t("./HooHeyHowHistoryItem"),p=t("../../data/ResourceManager"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprResultDices=[],e.historyItemPrefab=null,e.historyItemContainer=null,e.ApiGetGameInfo="/minigame/hhh-game/game-info",e.ApiGetHistory="/minigame/hhh-game/history100",e.ApiRequestBet="/minigame/hhh-game/bet",e}return i(e,t),e.prototype.addHistoryRecord=function(t){var e=cc.instantiate(this.historyItemPrefab).getComponent(h.default);e.node.active=!0,e.node.setParent(this.historyItemContainer),e.node.setSiblingIndex(0),e.setup(t)},e.prototype.createBetRequest=function(){var t,e=new a.RequestBet;return e.ccy=null!==(t=l.default.Instance.userBalance.ccy)&&void 0!==t?t:"VND",e.listBetItems=[],this.pendingBetData.forEach(function(t){var o=new a.ResponseBetItem;o.betType=t.id,o.betAmt=t.totalBetAmount,e.listBetItems.push(o)}),e},e.prototype.showResult=function(){this.currentGameInfo.result&&(this.sprResultDices[0].spriteFrame=p.default.Instance.getHooHeyHowDiceSprite(this.currentGameInfo.result.dice1),this.sprResultDices[1].spriteFrame=p.default.Instance.getHooHeyHowDiceSprite(this.currentGameInfo.result.dice2),this.sprResultDices[2].spriteFrame=p.default.Instance.getHooHeyHowDiceSprite(this.currentGameInfo.result.dice3),this.getPanel(this.currentGameInfo.result.dice1).setWinEffect(!0),this.getPanel(this.currentGameInfo.result.dice2).setWinEffect(!0),this.getPanel(this.currentGameInfo.result.dice3).setWinEffect(!0),this.addHistoryRecord(this.currentGameInfo))},r([u([cc.Sprite])],e.prototype,"sprResultDices",void 0),r([u(cc.Prefab)],e.prototype,"historyItemPrefab",void 0),r([u(cc.Node)],e.prototype,"historyItemContainer",void 0),r([s],e)}(c.GameplayControllerBase);o.default=f,cc._RF.pop()},{"../../DataManager":"DataManager","../../data/ResourceManager":"ResourceManager","../../networking/APIConnector":"APIConnector","../base/GameplayControllerBase":"GameplayControllerBase","./HooHeyHowHistoryItem":"HooHeyHowHistoryItem"}],HooHeyHowHistoryItem:[function(t,e,o){"use strict";cc._RF.push(e,"c9f7510yKJMGaYqD4Yyhqjs","HooHeyHowHistoryItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=t("../../data/ResourceManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgDices=[],e}return i(e,t),e.prototype.setup=function(t){this.imgDices[0].spriteFrame=a.default.Instance.getHooHeyHowDiceSprite(t.result.dice1),this.imgDices[1].spriteFrame=a.default.Instance.getHooHeyHowDiceSprite(t.result.dice2),this.imgDices[2].spriteFrame=a.default.Instance.getHooHeyHowDiceSprite(t.result.dice3)},r([c([cc.Sprite])],e.prototype,"imgDices",void 0),r([s()],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../data/ResourceManager":"ResourceManager"}],LayoutChildrenVertically:[function(t,e,o){"use strict";cc._RF.push(e,"24a92e4GHpKqKWibEo98T+V","LayoutChildrenVertically");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.executionOrder,c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.childNodes=[],e.layoutInUpdate=!1,e.topPadding=0,e.bottomPadding=0,e.spacing=0,e.lastWidth=0,e.lastHeight=0,e.originalChildHeights=[],e.childHeightPercentages=[],e.originalHeight=0,e}return i(e,t),e.prototype.start=function(){if(!this.childNodes||0==this.childNodes.length)for(var t=0,e=this.node.children;t<e.length;t++){var o=e[t];this.childNodes.push(o)}for(var n=[],i=this.childNodes.length-1;i>=0;i--)n.push(this.childNodes[i]);this.childNodes=n;for(var r=0,s=0,c=this.childNodes;s<c.length;s++){var a=c[s];this.originalChildHeights.push(a.height),r+=a.height}for(var l=0,u=this.childNodes;l<u.length;l++)a=u[l],this.childHeightPercentages.push(a.height/r);this.originalHeight=this.node.height-this.topPadding-this.bottomPadding-this.spacing*(this.childNodes.length-1);var h=this;setTimeout(function(){h.refreshContentSize()},.001)},e.prototype.update=function(){this.layoutInUpdate&&this.refreshContentSize()},e.prototype.refreshContentSize=function(){if(this.lastWidth!=this.node.width||this.lastHeight!=this.node.height){this.lastWidth=this.node.width,this.lastHeight=this.node.height;for(var t=this.node.height-this.topPadding-this.bottomPadding-(this.childNodes.length-1)*this.spacing,e=(this.originalHeight,-this.node.height/2),o=this.topPadding+e,n=0;n<this.childNodes.length;n++){var i=this.childNodes[n];i.height=this.childHeightPercentages[n]*t;var r=i.position;r.y=o+i.height/2,i.position=r,o=o+i.height+this.spacing}}},r([s(999),l([cc.Node])],e.prototype,"childNodes",void 0),r([l],e.prototype,"layoutInUpdate",void 0),r([l],e.prototype,"topPadding",void 0),r([l],e.prototype,"bottomPadding",void 0),r([l],e.prototype,"spacing",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],LiteEvent:[function(t,e,o){"use strict";cc._RF.push(e,"d4fe80JZytHur6oj1AbiNNX","LiteEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.LiteEvent0=o.LiteEvent2=o.LiteEvent=void 0;var n=function(){function t(){this.handlers=[]}return t.prototype.on=function(t){this.handlers.push(t)},t.prototype.off=function(t){this.handlers=this.handlers.filter(function(e){return e!==t})},t.prototype.trigger=function(t){this.handlers.slice(0).forEach(function(e){return e(t)})},t.prototype.expose=function(){return this},t}();o.LiteEvent=n;var i=function(){function t(){this.handlers=[]}return t.prototype.on=function(t){this.handlers.push(t)},t.prototype.off=function(t){this.handlers=this.handlers.filter(function(e){return e!==t})},t.prototype.trigger=function(t,e){this.handlers.slice(0).forEach(function(o){return o(t,e)})},t.prototype.expose=function(){return this},t}();o.LiteEvent2=i;var r=function(){function t(){this.handlers=[]}return t.prototype.on=function(t){this.handlers.push(t)},t.prototype.off=function(t){this.handlers=this.handlers.filter(function(e){return e!==t})},t.prototype.trigger=function(){this.handlers.slice(0).forEach(function(t){return t()})},t.prototype.expose=function(){return this},t}();o.LiteEvent0=r,cc._RF.pop()},{}],LoadingCanvas:[function(t,e,o){"use strict";cc._RF.push(e,"597400CqXJGEK5cOJyZ0xLZ","LoadingCanvas");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../PopupBase"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){null==o.instance?(cc.game.addPersistRootNode(this.node),o.instance=this,this.node.active=!1):this.node.destroy()},e.instance=null,o=r([a],e)}(s.default));o.default=l,cc._RF.pop()},{"../PopupBase":"PopupBase"}],LotteryScratchGameplayController:[function(t,e,o){"use strict";cc._RF.push(e,"eff94lYF1RJnaFg9PMK2fpM","LotteryScratchGameplayController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=t("../../networking/APIConnector"),a=t("../../DataManager"),l=t("../../data/LoadingCanvas"),u=t("../../utils/Utils"),h=t("./LotteryScratchPrizeRow"),p=cc._decorator.property,f=t("./LotteryScratchTopPrizeRow"),d=t("./LotteryScratchHistoryController"),y=t("./LotteryScratchRuleController"),v=cc.Color,m=t("./LotteryScratchTicket"),g=t("./LotteryScratchScratchController"),_=t("../common/ToastController"),b=function(t){function e(){var e=t.call(this)||this;return e.popupScratchController=null,e.popupHelpController=null,e.popupHistoryController=null,e.prizeRows=[],e.topPrizePrefab=null,e.topPrizeContainer=null,e.txtPreviousSpecialResult=null,e.txtNextLotteryCountdown=null,e.txtLotteryDate=null,e.txtSelectedTickets=null,e.ticketPrefab=null,e.ticketContainer=null,e.contentPrizeResult=null,e.contentPrizeTop=null,e.btnPrizeResult=null,e.btnPrizeTop=null,e.txtPrizeResult=null,e.txtPrizeTop=null,e.tabTextColorActive=v.WHITE,e.tabTextColorDisable=v.WHITE,e.tickets=[],e.TicketCount=10,e.TicketPrice=1e4,e.ApiGetGameInfo="/lottery/scratchTickets/info",e.ApiGetTopPrize="/lottery/scratchTickets/ranking",e.ApiGetBuyTickets="/lottery/scratchTickets",e.AccessTokenKey="@token",e.AccessTokenTypeKey="@tokenType",e.AccessTokenTypeDefault="Bearer",e.onGetUserInfoSuccess=e.onGetUserInfoSuccess.bind(e),e.onGetUserInfoFailed=e.onGetUserInfoFailed.bind(e),e.onGetUserBalanceSuccess=e.onGetUserBalanceSuccess.bind(e),e.onGetGameInfoSuccess=e.onGetGameInfoSuccess.bind(e),e.onGetTopPrizeSuccess=e.onGetTopPrizeSuccess.bind(e),e.onBuyTicketsSuccess=e.onBuyTicketsSuccess.bind(e),e}return i(e,t),e.prototype.start=function(){setTimeout(function(){l.default.Instance.show()},.01),this.txtPreviousSpecialResult.string="",this.txtNextLotteryCountdown.string="",this.txtSelectedTickets.string="",this.btnPrizeResult.interactable=!1,this.btnPrizeTop.interactable=!1,this.contentPrizeResult.active=!1,this.contentPrizeTop.active=!1,this.validateLoginData()?(c.default.Instance.GetUserInfo(this.onGetUserInfoSuccess,this.onGetUserInfoFailed),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)):this.onButtonLeaveClick()},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:}},e.prototype.validateLoginData=function(){var t=u.Utils.getParamFromUrl("token"),e=u.Utils.getParamFromUrl("token_type");return t?(a.default.Instance.LoginData.access_token=t,localStorage.setItem(this.AccessTokenKey,t)):a.default.Instance.LoginData.access_token=localStorage.getItem(this.AccessTokenKey),e?(a.default.Instance.LoginData.token_type=e,localStorage.setItem(this.AccessTokenTypeKey,e)):a.default.Instance.LoginData.token_type=localStorage.getItem(this.AccessTokenTypeKey),a.default.Instance.LoginData.token_type||(a.default.Instance.LoginData.token_type=this.AccessTokenTypeDefault),!!(a.default.Instance.LoginData&&a.default.Instance.LoginData.access_token&&a.default.Instance.LoginData.token_type)},e.prototype.onGetUserInfoSuccess=function(t){a.default.Instance.Login(t),this.isValidToken=!0,l.default.Instance.hide(),c.default.Instance.GetUserBalance(this.onGetUserBalanceSuccess,null),c.default.Instance.send(this.ApiGetGameInfo,null,this.onGetGameInfoSuccess,null),c.default.Instance.send(this.ApiGetTopPrize,null,this.onGetTopPrizeSuccess,null),this.onButtonPrizeResultClick()},e.prototype.onGetUserInfoFailed=function(){this.onButtonLeaveClick()},e.prototype.onGetUserBalanceSuccess=function(t){t._embedded.balanceDToes.length>0&&a.default.Instance.UpdateUserBalance(t._embedded.balanceDToes[0])},e.prototype.onGetGameInfoSuccess=function(t){var e,o=this;this.gameInfo=t;for(var n=function(e){if(e<t.results.length){i.prizeRows[e].node.active=!0;var o=t.results[e],n=t.prizeConfigs.find(function(t){return t.id===o.prizeId});i.prizeRows[e].setup(o,n)}else i.prizeRows[e].node.active=!1},i=this,r=0;r<this.prizeRows.length;r++)n(r);this.txtPreviousSpecialResult.string="";var s=null===(e=t.preResults)||void 0===e?void 0:e.find(function(t){return 1===t.prizePosition});if(s&&s.winNo.length>0){var a=s.winNo[0];this.txtPreviousSpecialResult.string=a[0];for(var l=1;l<a.length;l++)this.txtPreviousSpecialResult.string+=" - "+a[l]}var u=new Date(t.nextIssueOpenAt),h=u.getTime()-Date.now();this.txtNextLotteryCountdown.string=new Date(h).toISOString().substr(11,8),this.updateGameInfoInterval=setInterval(function(){h=u.getTime()-Date.now(),o.txtNextLotteryCountdown.string=new Date(h).toISOString().substr(11,8),h<=0&&(clearInterval(o.updateGameInfoInterval),c.default.Instance.send(o.ApiGetGameInfo,null,o.onGetGameInfoSuccess,null))},1e3);var p=new Date(this.gameInfo.currentIssueOpenAt);switch(this.txtLotteryDate.string="X\u1ed5 s\u1ed1 truy\u1ec1n th\u1ed1ng\n",p.getDay()){case 0:this.txtLotteryDate.string+="Ch\u1ee7 nh\u1eadt";break;case 1:this.txtLotteryDate.string+="Th\u1ee9 2";break;case 2:this.txtLotteryDate.string+="Th\u1ee9 3";break;case 3:this.txtLotteryDate.string+="Th\u1ee9 4";break;case 4:this.txtLotteryDate.string+="Th\u1ee9 5";break;case 5:this.txtLotteryDate.string+="Th\u1ee9 6";break;case 6:this.txtLotteryDate.string+="Th\u1ee9 7"}this.txtLotteryDate.string+=" - "+(p.getMonth()+1)+"/"+p.getDate()+"/"+p.getFullYear(),this.initTickets(),this.txtSelectedTickets.string="\u0110\xe3 ch\u1ecdn 0 v\xe9"},e.prototype.onGetTopPrizeSuccess=function(t){for(var e=0;e<t.length;e++){var o=cc.instantiate(this.topPrizePrefab).getComponent(f.default);o.node.parent=this.topPrizeContainer,o.node.active=!0,o.setup(t[e])}},e.prototype.onBuyTicketsSuccess=function(t){var e=0;t.forEach(function(t){return e+=t.totalPayout}),a.default.Instance.subGold(t.length*this.TicketPrice),a.default.Instance.addGold(e),this.popupScratchController.show(),this.popupScratchController.setup(this.gameInfo,t),this.onButtonCancelClick()},e.prototype.onTicketSelectedStatusChanged=function(){var t=this.tickets.filter(function(t){return t.tglSelectedCheck.isChecked}).length;this.txtSelectedTickets.string="\u0110\xe3 ch\u1ecdn "+t+" v\xe9"},e.prototype.onButtonPrizeResultClick=function(){this.btnPrizeResult.interactable=!1,this.btnPrizeTop.interactable=!0,this.contentPrizeResult.active=!0,this.contentPrizeTop.active=!1,this.txtPrizeResult.node.color=this.tabTextColorActive,this.txtPrizeTop.node.color=this.tabTextColorDisable},e.prototype.onButtonPrizeTopClick=function(){this.btnPrizeResult.interactable=!0,this.btnPrizeTop.interactable=!1,this.contentPrizeResult.active=!1,this.contentPrizeTop.active=!0,this.txtPrizeResult.node.color=this.tabTextColorDisable,this.txtPrizeTop.node.color=this.tabTextColorActive},e.prototype.onButtonLeaveClick=function(){u.Utils.navigateTo("/main/home")},e.prototype.onButtonHelpClick=function(){this.popupHelpController.show()},e.prototype.onButtonCustomerSupportClick=function(){},e.prototype.onButtonHistoryClick=function(){this.popupHistoryController.show()},e.prototype.onButtonBuyTicketClick=function(){var t,e=this.tickets.filter(function(t){return t.tglSelectedCheck.isChecked}).length;if(!(e<=0)){var o=e*this.TicketPrice;a.default.Instance.ValidGold()<o?_.default.Instance.showToast("Kh\xf4ng \u0111\u1ee7 ti\u1ec1n!",_.ToastType.Error):c.default.Instance.send(this.ApiGetBuyTickets,{ccy:null!==(t=a.default.Instance.userBalance.ccy)&&void 0!==t?t:"VND",issueId:this.gameInfo.issueId,quantity:e},this.onBuyTicketsSuccess,null)}},e.prototype.onButtonSelectAllClick=function(){this.tickets.forEach(function(t){return t.tglSelectedCheck.check()}),this.txtSelectedTickets.string="\u0110\xe3 ch\u1ecdn "+this.tickets.length+" v\xe9"},e.prototype.onButtonCancelClick=function(){this.tickets.forEach(function(t){t.tglSelectedCheck.uncheck()}),this.txtSelectedTickets.string="\u0110\xe3 ch\u1ecdn 0 v\xe9"},e.prototype.initTickets=function(){if(this.gameInfo)for(var t=new Date(this.gameInfo.currentIssueOpenAt),e="VCMB"+t.getFullYear().toString()+(t.getMonth()+1).toString()+t.getDate().toString(),o=0;o<this.TicketCount;o++){var n=void 0;if(o<this.tickets.length)n=this.tickets[o];else{var i=new cc.Component.EventHandler;i.target=this.node,i.component="LotteryScratchGameplayController",i.handler="onTicketSelectedStatusChanged",(n=cc.instantiate(this.ticketPrefab).getComponent(m.default)).changeTicketImage(!1,0),n.tglSelectedCheck.checkEvents.push(i),this.tickets.push(n)}n.node.parent=this.ticketContainer,n.node.active=!0,n.tglSelectedCheck.uncheck(),n.txtTicketCode.string=e+"******"}},r([p(g.default)],e.prototype,"popupScratchController",void 0),r([p(y.default)],e.prototype,"popupHelpController",void 0),r([p(d.default)],e.prototype,"popupHistoryController",void 0),r([p([h.default])],e.prototype,"prizeRows",void 0),r([p(cc.Prefab)],e.prototype,"topPrizePrefab",void 0),r([p(cc.Node)],e.prototype,"topPrizeContainer",void 0),r([p(cc.Label)],e.prototype,"txtPreviousSpecialResult",void 0),r([p(cc.Label)],e.prototype,"txtNextLotteryCountdown",void 0),r([p(cc.Label)],e.prototype,"txtLotteryDate",void 0),r([p(cc.Label)],e.prototype,"txtSelectedTickets",void 0),r([p(cc.Prefab)],e.prototype,"ticketPrefab",void 0),r([p(cc.Node)],e.prototype,"ticketContainer",void 0),r([p(cc.Node)],e.prototype,"contentPrizeResult",void 0),r([p(cc.Node)],e.prototype,"contentPrizeTop",void 0),r([p(cc.Button)],e.prototype,"btnPrizeResult",void 0),r([p(cc.Button)],e.prototype,"btnPrizeTop",void 0),r([p(cc.Label)],e.prototype,"txtPrizeResult",void 0),r([p(cc.Label)],e.prototype,"txtPrizeTop",void 0),r([p(cc.Color)],e.prototype,"tabTextColorActive",void 0),r([p(cc.Color)],e.prototype,"tabTextColorDisable",void 0),r([s],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../DataManager":"DataManager","../../data/LoadingCanvas":"LoadingCanvas","../../networking/APIConnector":"APIConnector","../../utils/Utils":"Utils","../common/ToastController":"ToastController","./LotteryScratchHistoryController":"LotteryScratchHistoryController","./LotteryScratchPrizeRow":"LotteryScratchPrizeRow","./LotteryScratchRuleController":"LotteryScratchRuleController","./LotteryScratchScratchController":"LotteryScratchScratchController","./LotteryScratchTicket":"LotteryScratchTicket","./LotteryScratchTopPrizeRow":"LotteryScratchTopPrizeRow"}],LotteryScratchHistoryController:[function(t,e,o){"use strict";cc._RF.push(e,"5f2d3lyOZ5PVYj5p7ImQlmd","LotteryScratchHistoryController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../PopupBase"),c=cc._decorator.ccclass,a=t("../../networking/APIConnector"),l=cc._decorator.property,u=t("../../utils/Utils"),h=t("./LotteryScratchHistoryItem"),p=t("../../data/LoadingCanvas"),f=function(t){function e(){var e=t.call(this)||this;return e.scrollView=null,e.txtTotalBetAmount=null,e.txtTotalWonAmount=null,e.txtTotalGames=null,e.historyPrefab=null,e.historyContainer=null,e.records=[],e.historyItems=[],e.totalBetAmount=0,e.totalWonAmount=0,e.currentPage=1,e.isLoadingMoreRecords=!1,e.isAllPageLoaded=!1,e.RecordsPerPage=10,e.ApiGetHistory="/lottery/scratchTickets/me",e.onGetHistorySuccess=e.onGetHistorySuccess.bind(e),e.onGetHistoryFailed=e.onGetHistoryFailed.bind(e),e}return i(e,t),e.prototype.onBeforeShow=function(){t.prototype.onBeforeShow.call(this),this.clear(),this.loadMoreRecords()},e.prototype.clear=function(){this.records=[],this.currentPage=1,this.isAllPageLoaded=!1,this.isLoadingMoreRecords=!1,this.historyItems.forEach(function(t){return t.node.active=!1}),this.totalBetAmount=0,this.totalWonAmount=0,this.totalGames=0,u.Utils.FormatChipForLabel(this.txtTotalBetAmount,this.totalBetAmount),u.Utils.FormatChipForLabel(this.txtTotalWonAmount,this.totalWonAmount),this.txtTotalGames.string="T\u1ed5ng s\u1ed1 <color=red>["+this.totalGames+"]</color> l\u01b0\u1ee3t ch\u01a1i"},e.prototype.onGetHistorySuccess=function(t){if(this.isLoadingMoreRecords=!1,p.default.Instance.hide(),t&&t._embedded){var e=t._embedded.scratchTickets;e&&(e.length<this.RecordsPerPage&&(this.isAllPageLoaded=!0),this.currentPage++,this.addRecords(e))}},e.prototype.onGetHistoryFailed=function(){this.isLoadingMoreRecords=!1,p.default.Instance.hide()},e.prototype.onScrollEvent=function(t,e){6===e&&this.loadMoreRecords()},e.prototype.addRecords=function(t){for(var e=0;e<t.length;e++){var o=void 0,n=this.records.length+e;n<this.historyItems.length?o=this.historyItems[n]:((o=cc.instantiate(this.historyPrefab).getComponent(h.default)).node.parent=this.historyContainer,this.historyItems.push(o)),o.node.active=!0,o.setup(t[e]),this.totalBetAmount+=t[e].totalBetAmt,this.totalWonAmount+=t[e].totalPayout,this.totalGames++}this.records.addRange(t),u.Utils.FormatChipForLabel(this.txtTotalBetAmount,this.totalBetAmount),u.Utils.FormatChipForLabel(this.txtTotalWonAmount,this.totalWonAmount),this.txtTotalGames.string="T\u1ed5ng s\u1ed1 <color=red>["+this.totalGames+"]</color> l\u01b0\u1ee3t ch\u01a1i"},e.prototype.loadMoreRecords=function(){this.isLoadingMoreRecords||(this.isLoadingMoreRecords=!0,a.default.Instance.send(this.ApiGetHistory+"?page="+this.currentPage+"&sort=lastModifiedAt,desc",null,this.onGetHistorySuccess,this.onGetHistoryFailed),p.default.Instance.show())},r([l(cc.ScrollView)],e.prototype,"scrollView",void 0),r([l(cc.Label)],e.prototype,"txtTotalBetAmount",void 0),r([l(cc.Label)],e.prototype,"txtTotalWonAmount",void 0),r([l(cc.RichText)],e.prototype,"txtTotalGames",void 0),r([l(cc.Prefab)],e.prototype,"historyPrefab",void 0),r([l(cc.Node)],e.prototype,"historyContainer",void 0),r([c],e)}(s.default);o.default=f,cc._RF.pop()},{"../../PopupBase":"PopupBase","../../data/LoadingCanvas":"LoadingCanvas","../../networking/APIConnector":"APIConnector","../../utils/Utils":"Utils","./LotteryScratchHistoryItem":"LotteryScratchHistoryItem"}],LotteryScratchHistoryItem:[function(t,e,o){"use strict";cc._RF.push(e,"19db8ODKxpFRYuhPrMZwcCT","LotteryScratchHistoryItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtId=null,e.txtDate=null,e.txtScratchDate=null,e.txtNumbers=null,e.nodeLose=null,e.nodeWin=null,e}return i(e,t),e.prototype.setup=function(t){var e=new Date(t.createdAt),o=new Date(t.createdAt);this.txtDate.string=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),this.txtScratchDate.string=o.getDate()+"-"+(o.getMonth()+1)+"-"+o.getFullYear()+" | "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds(),this.txtId.string="VCMB"+t.ticketId,this.txtNumbers.string=t.value,this.nodeLose.active="LOST"===t.status,this.nodeWin.active="LOST"!==t.status},r([c(cc.Label)],e.prototype,"txtId",void 0),r([c(cc.Label)],e.prototype,"txtDate",void 0),r([c(cc.Label)],e.prototype,"txtScratchDate",void 0),r([c(cc.Label)],e.prototype,"txtNumbers",void 0),r([c(cc.Node)],e.prototype,"nodeLose",void 0),r([c(cc.Node)],e.prototype,"nodeWin",void 0),r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],LotteryScratchPrizeResultController:[function(t,e,o){"use strict";cc._RF.push(e,"24c2d/Qdc5NRb5iKd8VeuXk","LotteryScratchPrizeResultController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=t("./LotteryScratchPrizeRow"),a=cc._decorator.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtLotteryDate=null,e.prizeRows=[],e}return i(e,t),e.prototype.setup=function(t){this.gameInfo=t;for(var e=function(t){if(t<o.gameInfo.results.length){o.prizeRows[t].node.active=!0;var e=o.gameInfo.results[t],n=o.gameInfo.prizeConfigs.find(function(t){return t.id===e.prizeId});o.prizeRows[t].setup(e,n)}else o.prizeRows[t].node.active=!1},o=this,n=0;n<this.prizeRows.length;n++)e(n);var i=new Date(this.gameInfo.currentIssueOpenAt);switch(this.txtLotteryDate.string="X\u1ed5 s\u1ed1 truy\u1ec1n th\u1ed1ng\n",i.getDay()){case 0:this.txtLotteryDate.string+="Ch\u1ee7 nh\u1eadt";break;case 1:this.txtLotteryDate.string+="Th\u1ee9 2";break;case 2:this.txtLotteryDate.string+="Th\u1ee9 3";break;case 3:this.txtLotteryDate.string+="Th\u1ee9 4";break;case 4:this.txtLotteryDate.string+="Th\u1ee9 5";break;case 5:this.txtLotteryDate.string+="Th\u1ee9 6";break;case 6:this.txtLotteryDate.string+="Th\u1ee9 7"}this.txtLotteryDate.string+=" - "+(i.getMonth()+1)+"/"+i.getDate()+"/"+i.getFullYear()},r([a(cc.Label)],e.prototype,"txtLotteryDate",void 0),r([a([c.default])],e.prototype,"prizeRows",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./LotteryScratchPrizeRow":"LotteryScratchPrizeRow"}],LotteryScratchPrizeRow:[function(t,e,o){"use strict";cc._RF.push(e,"bd75agtDVFK6K8VpHAZi0D0","LotteryScratchPrizeRow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.property,c=cc._decorator.ccclass,a=t("../../utils/Utils"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtPrizeTitle=null,e.txtPrizeNumberCount=null,e.txtPrizeWinValue=null,e.txtPrizeWinNo=null,e}return i(e,t),e.prototype.setup=function(t,e){var o;this.scratchResult=t,this.scratchConfig=e;var n=t.winNo.length>0?t.winNo[0].length:5;switch(t.prizePosition){case 1:this.txtPrizeTitle.string="Gi\u1ea3i \u0111\u1eb7c bi\u1ec7t";break;case 2:this.txtPrizeTitle.string="Gi\u1ea3i nh\u1ea5t";break;case 3:this.txtPrizeTitle.string="Gi\u1ea3i nh\xec";break;case 4:this.txtPrizeTitle.string="Gi\u1ea3i ba";break;case 5:this.txtPrizeTitle.string="Gi\u1ea3i t\u01b0";break;case 6:this.txtPrizeTitle.string="Gi\u1ea3i n\u0103m";break;case 7:this.txtPrizeTitle.string="Gi\u1ea3i s\xe1u";break;case 8:this.txtPrizeTitle.string="Gi\u1ea3i b\u1ea3y"}this.refreshResult(),this.txtPrizeNumberCount.string=n+" ch\u1eef s\u1ed1",a.Utils.FormatChipForLabel(this.txtPrizeWinValue,null!==(o=null==e?void 0:e.defaultWinPrize)&&void 0!==o?o:0,!1)},e.prototype.refreshResult=function(){if(this.txtPrizeWinNo.string="",this.scratchResult.winNo.length>0){this.txtPrizeWinNo.string=this.scratchResult.winNo[0];for(var t=1;t<this.scratchResult.winNo.length;t++)this.txtPrizeWinNo.string+=" - "+this.scratchResult.winNo[t]}},r([s(cc.Label)],e.prototype,"txtPrizeTitle",void 0),r([s(cc.Label)],e.prototype,"txtPrizeNumberCount",void 0),r([s(cc.Label)],e.prototype,"txtPrizeWinValue",void 0),r([s(cc.RichText)],e.prototype,"txtPrizeWinNo",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../utils/Utils":"Utils"}],LotteryScratchRuleController:[function(t,e,o){"use strict";cc._RF.push(e,"8d7f5QRC8RG8o0Ww+DLRKEV","LotteryScratchRuleController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([s],e)}(t("../../PopupBase").default);o.default=c,cc._RF.pop()},{"../../PopupBase":"PopupBase"}],LotteryScratchScratchController:[function(t,e,o){"use strict";cc._RF.push(e,"94be3s3jQhKA7qa1ThSLAhI","LotteryScratchScratchController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../PopupBase"),c=cc._decorator.ccclass,a=cc._decorator.property,l=t("./LotteryScratchTicket"),u=t("../../utils/Utils"),h=cc.Rect,p=cc.Vec2,f=t("./LotteryScratchPrizeResultController"),d=t("./LotteryScratchWinEffectController"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prizeResultTable=null,e.winEffectController=null,e.ticketPrefab=null,e.ticketContainer=null,e.txtLotteryDate=null,e.txtScratchedTicket=null,e.btnNextTicket=null,e.btnPrevTicket=null,e.btnAutoScratch=null,e.toastContent=null,e.txtToastMessage=null,e.toastColorNormal=cc.Color.WHITE,e.toastColorPositive=cc.Color.GREEN,e.toastColorNegative=cc.Color.RED,e.txtAutoScratchCountdown=null,e.objAutoScratchCountdown=null,e.autoScratchAnimation=null,e.autoScratchPositionNode=null,e.scratchAreaNode=null,e.scratchNumberNodes=[],e.scratchRadius=32,e.ticketInstances=[],e.currentTicketIndex=0,e.scratchData=[],e.TicketPrice=1e4,e.AutoScratchDuration=5,e.AutoScratchCountdown=8,e.ScratchCompleteOver=65,e}return i(e,t),e.prototype.onLoad=function(){this.tweenShowToastInitPosition=this.toastContent.position},e.prototype.setup=function(t,e){var o;this.gameInfo=t,this.scratchData=[],this.btnNextTicket.node.active=e.length>1,this.btnPrevTicket.node.active=e.length>1,this.txtScratchedTicket.string="0/"+e.length+" V\xe9",this.objAutoScratchCountdown.active=!1,this.txtAutoScratchCountdown.string="",this.prizeResultTable.setup(t),this.isAutoScratching=!1,this.autoScratchAnimation.node.active=!1;for(var n=0;n<e.length;n++){var i=void 0;n<this.ticketInstances.length?i=this.ticketInstances[n]:((i=cc.instantiate(this.ticketPrefab).getComponent(l.default)).node.parent=this.ticketContainer,this.ticketInstances.push(i)),i.node.active=!0,i.node.scale=0,i.changeTicketImage(!1,0),i.tglSelectedCheck.check(),i.tglSelectedCheck.interactable=!1,i.txtTicketCode.string="VCMB"+e[n].ticketId,null===(o=i.resultMask._graphics)||void 0===o||o.clear();for(var r=0;r<e[n].value.length;r++)i.txtResultNumbers[r].string=e[n].value[r];for(var s=[],c=0;c<this.scratchNumberNodes.length;c++){for(var a=this.scratchNumberNodes[c],h=a.position,f=[],d=50*a.width/100/6,y=0;y<6;y++)for(var v=0;v<6;v++){var m=(y-3)*d,g=(v-3)*d,_=new p(h.x+m,h.y+g);f.push({rect:cc.rect(_.x,_.y,d,d),isHit:!1})}s.push(f)}this.scratchData.push({ticket:i,data:e[n],isScratched:!1,tempDrawPoints:[],scratchNumberPointsData:s})}for(n=e.length;n<this.ticketInstances.length;n++)this.ticketInstances[n].node.active=!1;var b=e.length*this.TicketPrice;this.showToast("B\u1ea1n \u0111\xe3 mua "+e.length+" v\xe9 th\xe0nh c\xf4ng: "+u.Utils.FormatChip(b,!1)+" vn\u0111",this.toastColorPositive),this.refreshTicket(0)},e.prototype.showToast=function(t,e){this.tweenShowToast&&this.tweenShowToast.stop();var o=this.tweenShowToastInitPosition,n=new cc.Vec3(o.x,o.y+500,o.z);this.txtToastMessage.string=t,this.toastContent.position=n,this.toastContent.color=e,this.toastContent.opacity=0,this.tweenShowToast=cc.tween(this.toastContent).to(.5,{position:o,opacity:255}).delay(2).to(.5,{opacity:0}).start()},e.prototype.onAfterShow=function(){t.prototype.onAfterShow.call(this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onBeforeHide=function(){t.prototype.onBeforeHide.call(this),this.autoScratchAnimation.stop("scratch"),this.startAutoScratchInterval&&clearInterval(this.startAutoScratchInterval),this.startAutoScratchTimeout&&clearTimeout(this.startAutoScratchTimeout),this.clearAutoScratchCountdown(),this.node.off(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouch,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onTouch=function(t){if(!this.isAutoScratching){var e=t.touch.getLocation();this.scratchCurrentTicket(e)}},e.prototype.onTouchEnd=function(){if(!this.currentScratchData.isScratched&&!this.isAutoScratching){this.currentScratchData.tempDrawPoints=[];var t=this.calcProgress(),e=[],o=!0;t.forEach(function(t){e.push(t.scratchValue),"*"===t.scratchValue&&(o=!1)}),o&&("LOST"===this.currentScratchData.data.status?this.showToast("V\xe9 kh\xf4ng tr\xfang th\u01b0\u1edfng, ch\xfac m\u1ea1n may m\u1eafn l\u1ea7n sau",this.toastColorNegative):(1===this.currentScratchData.data.winPosition&&this.currentScratchData.ticket.changeTicketImage(!0,.5),this.showToast("B\u1ea1n \u0111\xe3 tr\xfang "+u.Utils.FormatChip(this.currentScratchData.data.totalPayout)+" vn\u0111",this.toastColorPositive),this.winEffectController.show(),this.winEffectController.setup(this.currentScratchData.data)),this.clearAutoScratchCountdown(),this.currentScratchData.isScratched=!0,this.canScratch=!1,this.btnAutoScratch.interactable=this.canScratch,this.txtScratchedTicket.string=this.scratchData.filter(function(t){return t.isScratched}).length+"/"+this.scratchData.length+" V\xe9")}},e.prototype.scratchCurrentTicket=function(t){var e=this,o=this.ticketInstances[this.currentTicketIndex],n=o.node.convertToNodeSpaceAR(t),i=o.resultMask._graphics,r=this.currentScratchData.tempDrawPoints.length;if(this.currentScratchData.tempDrawPoints.push(n),r<=1)i.circle(n.x,n.y,this.scratchRadius),i.fill(),this.currentScratchData.scratchNumberPointsData.forEach(function(t){t.forEach(function(t){!t.isHit&&cc.Intersection.rectRect(t.rect,new h(n.x-e.scratchRadius/2,n.y-e.scratchRadius/2,e.scratchRadius,e.scratchRadius))&&(t.isHit=!0)})});else{var s=this.currentScratchData.tempDrawPoints[r-2],c=this.currentScratchData.tempDrawPoints[r-1],a=Math.min(s.x,c.x)-this.scratchRadius/2,l=Math.min(s.y,c.y)-this.scratchRadius/2,u=Math.max(s.x,c.x)+this.scratchRadius/2,p=Math.max(s.y,c.y)+this.scratchRadius/2,f=new h(a,l,u-a,p-l);i.moveTo(s.x,s.y),i.lineTo(c.x,c.y),i.lineWidth=this.scratchRadius,i.lineCap=cc.Graphics.LineCap.ROUND,i.lineJoin=cc.Graphics.LineJoin.ROUND,i.strokeColor=cc.color(255,255,255,255),i.stroke(),this.currentScratchData.scratchNumberPointsData.forEach(function(t){t.forEach(function(t){t.isHit||cc.Intersection.rectRect(f,t.rect)&&(t.isHit=!0)})})}},e.prototype.calcProgress=function(){for(var t=[],e=function(e){var n=o.currentScratchData.scratchNumberPointsData[e],i=0;n.forEach(function(t){t.isHit&&i++});var r=Math.ceil(i/n.length*100),s=r>o.ScratchCompleteOver?o.currentScratchData.data.value[e]:"*";t.push({index:e,hitCount:i,hitProgress:r,scratchValue:s}),n.length},o=this,n=0;n<this.currentScratchData.scratchNumberPointsData.length;n++)e(n);return t},e.prototype.startAutoScratch=function(){var t=this;this.btnAutoScratch.interactable=!1,this.objAutoScratchCountdown.active=!1,this.txtAutoScratchCountdown.string="",this.isAutoScratching=!0,this.autoScratchAnimation.node.active=!0,this.autoScratchAnimation.play("scratch"),this.startAutoScratchInterval=setInterval(function(){var e=t.autoScratchPositionNode.getWorldSpacePositon();t.scratchCurrentTicket(e)},50),this.startAutoScratchTimeout=setTimeout(function(){t.isAutoScratching=!1,t.autoScratchAnimation.node.active=!1,t.onTouchEnd(null),clearInterval(t.startAutoScratchInterval),t.startAutoScratchInterval=null,t.startAutoScratchTimeout=null},1e3*this.AutoScratchDuration)},e.prototype.refreshTicket=function(t){this.currentScratchData&&(this.currentScratchData.ticket.node.scale=0,this.currentScratchData.tempDrawPoints=[]),this.currentTicketIndex=t,this.ticketInstances[this.currentTicketIndex].node.scale=1,this.currentScratchData=this.scratchData[this.currentTicketIndex],this.canScratch=!this.currentScratchData.isScratched,this.btnAutoScratch.interactable=this.canScratch,this.clearAutoScratchCountdown(),this.canScratch&&this.startAutoScratchCountdown()},e.prototype.startAutoScratchCountdown=function(){var t=this,e=this.AutoScratchCountdown;this.objAutoScratchCountdown.active=!0,this.txtAutoScratchCountdown.string=e.toString(),this.autoScratchCountdownInterval=setInterval(function(){e--,t.txtAutoScratchCountdown.string=e.toString(),e<=0&&(t.clearAutoScratchCountdown(),t.startAutoScratch())},1e3)},e.prototype.clearAutoScratchCountdown=function(){this.autoScratchCountdownInterval&&(clearInterval(this.autoScratchCountdownInterval),this.autoScratchCountdownInterval=null),this.objAutoScratchCountdown.active=!1,this.txtAutoScratchCountdown.string=""},e.prototype.onButtonAutoScratchClick=function(){!this.isAutoScratching&&this.canScratch&&(this.clearAutoScratchCountdown(),this.startAutoScratch())},e.prototype.onButtonNextClick=function(){this.isAutoScratching||this.refreshTicket(this.currentTicketIndex+1<this.scratchData.length?this.currentTicketIndex+1:0)},e.prototype.onButtonPrevClick=function(){this.isAutoScratching||this.refreshTicket(this.currentTicketIndex-1>=0?this.currentTicketIndex-1:this.scratchData.length-1)},r([a(f.default)],e.prototype,"prizeResultTable",void 0),r([a(d.default)],e.prototype,"winEffectController",void 0),r([a(cc.Prefab)],e.prototype,"ticketPrefab",void 0),r([a(cc.Node)],e.prototype,"ticketContainer",void 0),r([a(cc.Label)],e.prototype,"txtLotteryDate",void 0),r([a(cc.Label)],e.prototype,"txtScratchedTicket",void 0),r([a(cc.Button)],e.prototype,"btnNextTicket",void 0),r([a(cc.Button)],e.prototype,"btnPrevTicket",void 0),r([a(cc.Button)],e.prototype,"btnAutoScratch",void 0),r([a(cc.Node)],e.prototype,"toastContent",void 0),r([a(cc.Label)],e.prototype,"txtToastMessage",void 0),r([a(cc.Color)],e.prototype,"toastColorNormal",void 0),r([a(cc.Color)],e.prototype,"toastColorPositive",void 0),r([a(cc.Color)],e.prototype,"toastColorNegative",void 0),r([a(cc.Label)],e.prototype,"txtAutoScratchCountdown",void 0),r([a(cc.Node)],e.prototype,"objAutoScratchCountdown",void 0),r([a(cc.Animation)],e.prototype,"autoScratchAnimation",void 0),r([a(cc.Node)],e.prototype,"autoScratchPositionNode",void 0),r([a(cc.Node)],e.prototype,"scratchAreaNode",void 0),r([a([cc.Node])],e.prototype,"scratchNumberNodes",void 0),r([a(cc.Float)],e.prototype,"scratchRadius",void 0),r([c],e)}(s.default);o.default=y,cc._RF.pop()},{"../../PopupBase":"PopupBase","../../utils/Utils":"Utils","./LotteryScratchPrizeResultController":"LotteryScratchPrizeResultController","./LotteryScratchTicket":"LotteryScratchTicket","./LotteryScratchWinEffectController":"LotteryScratchWinEffectController"}],LotteryScratchTicket:[function(t,e,o){"use strict";cc._RF.push(e,"6f6efTWDMVPqIfjBLCOVNO5","LotteryScratchTicket");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprNormalTicket=null,e.sprSpecialTicket=null,e.imgTicket=null,e.imgTicketCheck=null,e.tglSelectedCheck=null,e.txtTicketCode=null,e.txtResultNumbers=[],e.resultMask=null,e}return i(e,t),e.prototype.changeTicketImage=function(t,e){var o=this;e<=0?(this.imgTicket.spriteFrame=t?this.sprSpecialTicket:this.sprNormalTicket,this.imgTicketCheck.spriteFrame=t?this.sprSpecialTicket:this.sprNormalTicket):(cc.tween(this.imgTicket.node).to(e/2,{opacity:0}).call(function(){o.imgTicket.spriteFrame=t?o.sprSpecialTicket:o.sprNormalTicket}).to(e/2,{opacity:255}).start(),cc.tween(this.imgTicketCheck.node).to(e/2,{opacity:0}).call(function(){o.imgTicketCheck.spriteFrame=t?o.sprSpecialTicket:o.sprNormalTicket}).to(e/2,{opacity:255}).start())},r([c(cc.SpriteFrame)],e.prototype,"sprNormalTicket",void 0),r([c(cc.SpriteFrame)],e.prototype,"sprSpecialTicket",void 0),r([c(cc.Sprite)],e.prototype,"imgTicket",void 0),r([c(cc.Sprite)],e.prototype,"imgTicketCheck",void 0),r([c(cc.Toggle)],e.prototype,"tglSelectedCheck",void 0),r([c(cc.Label)],e.prototype,"txtTicketCode",void 0),r([c([cc.Label])],e.prototype,"txtResultNumbers",void 0),r([c(cc.Mask)],e.prototype,"resultMask",void 0),r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],LotteryScratchTopPrizeRow:[function(t,e,o){"use strict";cc._RF.push(e,"c8eab2hA+FD5YBO4Rjt901b","LotteryScratchTopPrizeRow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=t("../../utils/Utils"),a=cc._decorator.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtPlayer=null,e.txtRank=null,e.txtPrize=null,e}return i(e,t),e.prototype.setup=function(t){switch(this.txtPlayer.string=t.phone,t.winPosition){case"1":this.txtRank.string="Gi\u1ea3i \u0111\u1eb7c bi\u1ec7t";break;case"2":this.txtRank.string="Gi\u1ea3i nh\u1ea5t";break;case"3":this.txtRank.string="Gi\u1ea3i nh\xec";break;case"4":this.txtRank.string="Gi\u1ea3i ba";break;case"5":this.txtRank.string="Gi\u1ea3i t\u01b0";break;case"6":this.txtRank.string="Gi\u1ea3i n\u0103m";break;case"7":this.txtRank.string="Gi\u1ea3i s\xe1u";break;case"8":this.txtRank.string="Gi\u1ea3i b\u1ea3y"}c.Utils.FormatChipForLabel(this.txtPrize,t.totalPayout,!1)},r([a(cc.Label)],e.prototype,"txtPlayer",void 0),r([a(cc.Label)],e.prototype,"txtRank",void 0),r([a(cc.Label)],e.prototype,"txtPrize",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../utils/Utils":"Utils"}],LotteryScratchWinEffectController:[function(t,e,o){"use strict";cc._RF.push(e,"591a3Igl55IUIWSaCpN0dzz","LotteryScratchWinEffectController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../PopupBase"),c=cc._decorator.ccclass,a=t("./LotteryScratchTicket"),l=cc._decorator.property,u=t("../../utils/Utils"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ticket=null,e.nodeNormalPrize=null,e.nodeSpecialPrize=null,e.txtNormalPrizePosition=null,e.txtNormalPrizeWonAmount=null,e.txtSpecialPrizeWonAmount=null,e}return i(e,t),e.prototype.setup=function(t){if(1!==t.winPosition){switch(this.nodeNormalPrize.active=!0,this.nodeSpecialPrize.active=!1,t.winPosition){case 1:this.txtNormalPrizePosition.string="Gi\u1ea3i \u0111\u1eb7c bi\u1ec7t";break;case 2:this.txtNormalPrizePosition.string="Gi\u1ea3i nh\u1ea5t";break;case 3:this.txtNormalPrizePosition.string="Gi\u1ea3i nh\xec";break;case 4:this.txtNormalPrizePosition.string="Gi\u1ea3i ba";break;case 5:this.txtNormalPrizePosition.string="Gi\u1ea3i t\u01b0";break;case 6:this.txtNormalPrizePosition.string="Gi\u1ea3i n\u0103m";break;case 7:this.txtNormalPrizePosition.string="Gi\u1ea3i s\xe1u";break;case 8:this.txtNormalPrizePosition.string="Gi\u1ea3i b\u1ea3y"}this.ticket.changeTicketImage(!1,0),u.Utils.FormatChipForLabel(this.txtNormalPrizeWonAmount,t.totalPayout)}else this.nodeNormalPrize.active=!1,this.nodeSpecialPrize.active=!0,this.ticket.changeTicketImage(!0,0),u.Utils.FormatChipForLabel(this.txtSpecialPrizeWonAmount,t.totalPayout);this.ticket.tglSelectedCheck.check(),this.ticket.txtTicketCode.string="VCMB"+t.ticketId;for(var e=0;e<t.value.length;e++)this.ticket.txtResultNumbers[e].string=t.value[e]},r([l(a.default)],e.prototype,"ticket",void 0),r([l(cc.Node)],e.prototype,"nodeNormalPrize",void 0),r([l(cc.Node)],e.prototype,"nodeSpecialPrize",void 0),r([l(cc.Label)],e.prototype,"txtNormalPrizePosition",void 0),r([l(cc.Label)],e.prototype,"txtNormalPrizeWonAmount",void 0),r([l(cc.Label)],e.prototype,"txtSpecialPrizeWonAmount",void 0),r([c],e)}(s.default);o.default=h,cc._RF.pop()},{"../../PopupBase":"PopupBase","../../utils/Utils":"Utils","./LotteryScratchTicket":"LotteryScratchTicket"}],MultipleScreenSizeHelper:[function(t,e,o){"use strict";cc._RF.push(e,"85fb8C+mPVAjp1lijLtcQ1A","MultipleScreenSizeHelper");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc.Vec2,c=cc.Vec3,a=cc._decorator.executionOrder,l=cc.Size,u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.content=null,e.rightCover=null,e.leftCover=null,e.designResolution=new l(1080,1920),e.lastWidth=0,e.lastHeight=0,e}return i(e,t),e.prototype.onLoad=function(){var t=cc.view.getFrameSize();this.canvas&&(t.width/t.height<9/16?(this.canvas.fitWidth=!0,this.canvas.fitHeight=!1,this.node.width=this.designResolution.width,this.node.height=this.designResolution.width*t.height/t.width,this.node.setPosition(new s(this.node.width/2,this.node.height/2)),console.log("Node height = "+this.node.height)):(this.canvas.fitWidth=!1,this.canvas.fitHeight=!0))},e.prototype.onEnable=function(){var t=cc.view.getFrameSize();this.canvas||(t.width/t.height<9/16?(this.node.width=this.designResolution.width,this.node.height=this.designResolution.width*t.height/t.width,this.node.setPosition(new s(this.node.width/2,this.node.height/2))):(this.node.height=this.designResolution.height,this.node.width=this.designResolution.height*t.width/t.height,this.node.setPosition(new s(this.node.width/2,this.node.height/2))))},e.prototype.start=function(){this.refreshContentSize()},e.prototype.update=function(){this.refreshContentSize()},e.prototype.refreshContentSize=function(){if(this.lastWidth!=this.node.width||this.lastHeight!=this.node.height){this.lastWidth=this.node.width,this.lastHeight=this.node.height;var t=this.node.width,e=this.node.height;if(t/e>.75){if(this.content.height=e,this.content.width=9*e/16,this.leftCover&&this.rightCover){this.leftCover.active=!0,this.rightCover.active=!0,this.rightCover.height=this.leftCover.height=e,this.rightCover.width=this.leftCover.width=(t-this.content.width)/2;var o=this.content.width/2+this.rightCover.width/2;this.leftCover.setPosition(new s(-o,0)),this.rightCover.setPosition(new s(+o,0))}}else this.content.width=t,this.content.height=e,this.content.position=c.ZERO,this.leftCover&&this.rightCover&&(this.leftCover.active=!1,this.rightCover.active=!1)}},r([a(-999),p(cc.Canvas)],e.prototype,"canvas",void 0),r([p(cc.Node)],e.prototype,"content",void 0),r([p(cc.Node)],e.prototype,"rightCover",void 0),r([p(cc.Node)],e.prototype,"leftCover",void 0),r([p()],e.prototype,"designResolution",void 0),r([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{}],NodeUtils:[function(t,e,o){"use strict";cc._RF.push(e,"d3f9cnCiC1Jm4UMAkFRy73p","NodeUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.Vec2;cc.Node.prototype.getWorldSpacePositon=function(){return this.parent?this.parent.convertToWorldSpaceAR(new n(this.position.x,this.position.y)):new n(this.position.x,this.position.y)},cc.Node.prototype.setWorldSpacePosition=function(t){this.parent&&(t=this.parent.convertToNodeSpaceAR(t)),this.position=t},cc._RF.pop()},{}],PopupBase:[function(t,e,o){"use strict";cc._RF.push(e,"ce991pzkY9Jz78tVEkdz/kU","PopupBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.PopupTransition=void 0;var s,c=cc._decorator.property,a=cc._decorator.ccclass;(function(t){t[t.Scale=0]="Scale",t[t.LeftToRight=1]="LeftToRight",t[t.RightToLeft=2]="RightToLeft",t[t.BottomToTop=3]="BottomToTop",t[t.TopToBottom=4]="TopToBottom",t[t.Fade=5]="Fade"})(s=o.PopupTransition||(o.PopupTransition={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transition=s.Scale,e.duration=.2,e.content=null,e.overlay=null,e.disableOnHide=!0,e.hideOnAwake=!1,e.isShowing=!1,e}return i(e,t),e.prototype.onLoad=function(){this.overlay&&(this.overlay.opacity=0)},e.prototype.start=function(){this.hideOnAwake&&this.hide(0,!0)},e.prototype.onBeforeShow=function(){},e.prototype.onBeforeHide=function(){},e.prototype.onAfterShow=function(){},e.prototype.onAfterHide=function(){this.disableOnHide&&(this.node.active=!1)},e.prototype.show=function(t,e,o){var n=this;if(void 0===t&&(t=this.duration),void 0===e&&(e=!1),void 0===o&&(o=null),!this.isShowing||e)if(this.disableOnHide&&(this.node.active=!0),this.overlay&&cc.tween(this.overlay).to(t,{opacity:255}).start(),this.currentTween&&this.currentTween.stop(),this.isShowing=!0,this.onBeforeShow(),this.content)switch(this.transition){case s.Scale:case s.LeftToRight:case s.RightToLeft:case s.BottomToTop:case s.TopToBottom:case s.Fade:this.currentTween=cc.tween(this.content).to(t,{scale:1}).call(function(){n.onAfterShow(),o&&o()}).start()}else this.onAfterShow(),o&&o()},e.prototype.hide=function(t,e,o){var n=this;if(void 0===t&&(t=this.duration),void 0===e&&(e=!1),void 0===o&&(o=null),this.isShowing||e)if(this.isShowing=!1,this.overlay&&cc.tween(this.overlay).to(t,{opacity:0}).start(),this.onBeforeHide(),this.content)switch(this.transition){case s.Scale:case s.LeftToRight:case s.RightToLeft:case s.BottomToTop:case s.TopToBottom:case s.Fade:this.currentTween=cc.tween(this.content).to(t,{scale:0}).call(function(){n.onAfterHide(),o&&o()}).start()}else this.onAfterHide(),o&&o()},r([c({type:cc.Enum(s)})],e.prototype,"transition",void 0),r([c(cc.Float)],e.prototype,"duration",void 0),r([c(cc.Node)],e.prototype,"content",void 0),r([c(cc.Node)],e.prototype,"overlay",void 0),r([c(cc.Boolean)],e.prototype,"disableOnHide",void 0),r([c(cc.Boolean)],e.prototype,"hideOnAwake",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PopupControllerBase:[function(t,e,o){"use strict";cc._RF.push(e,"0f05bE0m5VDhKNebVYEcYHe","PopupControllerBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.PopupType=void 0;var s,c=cc._decorator,a=c.ccclass,l=c.property;(function(t){t[t.Scale=0]="Scale",t[t.Fade=1]="Fade"})(s=o.PopupType||(o.PopupType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TweenDuration=.2,e.type=s.Scale,e.disableOnHide=!0,e.nodeContent=null,e}return i(e,t),e.prototype.onBeforeShow=function(){},e.prototype.onBeforeHide=function(){},e.prototype.onAfterShow=function(){this.onShowEvent&&this.onShowEvent()},e.prototype.onAfterHide=function(){this.disableOnHide&&(this.nodeContent.active=!1),this.onCloseEvent&&this.onCloseEvent()},e.prototype.show=function(t,e){var o=this;if(void 0===t&&(t=this.TweenDuration),void 0===e&&(e=null),!this.IsShowing){this.IsShowing=!0,this.disableOnHide&&(this.nodeContent.active=!0),this.onBeforeShow();var n=0;this.type==s.Scale?(this.nodeContent.stopAllActions(),this.nodeContent.scale=0,this.nodeContent.runAction(cc.scaleTo(t,1)),n=t):this.type==s.Fade&&(this.nodeContent.stopAllActions(),this.nodeContent.runAction(cc.fadeTo(t,255)),n=t),setTimeout(function(){o.onAfterShow(),e&&e()},n)}},e.prototype.hide=function(t,e,o){var n=this;if(void 0===t&&(t=this.TweenDuration),void 0===e&&(e=!1),void 0===o&&(o=null),this.IsShowing||e){this.IsShowing=!1,this.onBeforeHide();var i=0;this.type==s.Scale?(this.nodeContent.stopAllActions(),this.nodeContent.scale=1,this.nodeContent.runAction(cc.scaleTo(t,0)),i=t):this.type==s.Fade&&(this.nodeContent.stopAllActions(),this.nodeContent.runAction(cc.fadeTo(t,0)),i=t),setTimeout(function(){n.onAfterHide(),o&&o()},i)}},r([l({type:cc.Enum(s)})],e.prototype,"type",void 0),r([l(cc.Boolean)],e.prototype,"disableOnHide",void 0),r([l(cc.Node)],e.prototype,"nodeContent",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ResourceManager:[function(t,e,o){"use strict";cc._RF.push(e,"261b1lDyIlO8rb1JfTEiM2a","ResourceManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],s=0,c=r.length;s<c;s++,i++)n[i]=r[s];return n};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./HooHeyHowDiceInfo"),a=cc._decorator.property,l=t("./ChipInfo"),u=cc._decorator.ccclass,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hhhDiceInfos=[],e.chipInfos=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){null===o.instance?(cc.game.addPersistRootNode(this.node),o.instance=this,this.node.active=!1):this.node.destroy()},e.prototype.getHooHeyHowDiceSprite=function(t){var e,o=this.hhhDiceInfos.find(function(e){return e.id===t});return null!==(e=null==o?void 0:o.icon)&&void 0!==e?e:null},e.prototype.getChipInfo=function(t){for(var e=null,o=0,n=this.chipInfos;o<n.length;o++){var i=n[o];if(i.amount==t){e=i;break}}return e},e.prototype.getChipIconForAmount=function(t){for(var e=this.chipInfos.length-1;e>=0;e--)if(t>=this.chipInfos[e].VndAmount())return this.chipInfos[e].sprIcon;return this.chipInfos[0].sprIcon},e.prototype.convertAmountToChipInfos=function(t,e){void 0===e&&(e=Number.MAX_SAFE_INTEGER);var o=[];if(this.chipInfos.length<=0)return o;for(var n=t,i=this.chipInfos.length-1;i>=0;i--){var r=this.chipInfos[i];if(!(r.amount>e||n<r.amount))for(var s=Math.floor(n/r.amount),c=0;c<s;c++)o.push(r),n-=r.amount}return o},e.prototype.getAvailableChipsFromTotalAmount=function(t){var e=[],o=s(this.chipInfos);o.sort(function(t,e){return t.amount>e.amount?-1:e.amount>t.amount?1:0});for(var n=t;;){for(var i=10,r=0,c=0,a=o;c<a.length;c++){var l=a[c];if(!(n<l.amount)){i=l.amount,r=n/l.amount,n-=i;break}}if(n>0&&n<10&&(r++,n=0),r<=0)break;e.push(i)}return e},e.prototype.getAllChipsInAmountRange=function(t,e){var o=[],n=s(this.chipInfos);n.sort(function(t,e){return t.amount>e.amount?1:e.amount>t.amount?-1:0});for(var i=0,r=n;i<r.length;i++){var c=r[i];c.amount>=t&&c.amount<=e&&o.push(c)}return o},e.instance=null,r([a([c.default])],e.prototype,"hhhDiceInfos",void 0),r([a([l.default])],e.prototype,"chipInfos",void 0),o=r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./ChipInfo":"ChipInfo","./HooHeyHowDiceInfo":"HooHeyHowDiceInfo"}],RotateOverTime:[function(t,e,o){"use strict";cc._RF.push(e,"40494+clM1EO7g+WNUFB1TR","RotateOverTime");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=2,e}return i(e,t),e.prototype.start=function(){cc.tween(this.node).repeatForever(cc.tween().by(this.duration,{angle:360})).start()},r([a(cc.Integer)],e.prototype,"duration",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ToastController:[function(t,e,o){"use strict";cc._RF.push(e,"c27c1aFAWhCSrXIeFfsiPZl","ToastController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.ToastType=void 0;var s,c=t("./ToastItemController"),a=t("typescript-collections"),l=cc.Color,u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toastPrefab=null,e.toastContainer=null,e.startPosition=null,e.showHeight=100,e.showDuration=2,e.toastPool=new a.Queue,e}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){null==o.instance?(cc.game.addPersistRootNode(this.node),o.instance=this):this.node.destroy()},e.prototype.showToast=function(t,e){if(void 0===e&&(e=s.Info),t){var o=this.GetToastFromPool();o.SetData(t,this.getColor(e)),o.node.setSiblingIndex(this.node.parent.childrenCount-1),o.node.opacity=0,o.node.setPosition(this.startPosition.position);var n=this;cc.tween(o.node).to(.2*this.showDuration,{opacity:255}).start(),cc.tween(o.node).delay(.8*this.showDuration).to(.2*this.showDuration,{opacity:0}).start(),cc.tween(o.node).to(this.showDuration,{position:cc.v3(this.startPosition.x,this.startPosition.y+this.showHeight,0)}).call(function(){n.enqueueToastItem(o),o.node.scale=1}).start()}},e.prototype.getColor=function(t){switch(t){case s.Success:case s.Info:return l.WHITE;case s.Warning:return l.YELLOW;case s.Error:return new cc.Color(255,83,29,255)}return l.WHITE},e.prototype.GetToastFromPool=function(){var t=null;return 0==this.toastPool.size()?(t=cc.instantiate(this.toastPrefab).getComponent(c.default)).node.parent=this.node:t=this.toastPool.dequeue(),t.node.active=!0,t},e.prototype.enqueueToastItem=function(t){t.node.active=!1,this.toastPool.enqueue(t)},e.instance=null,r([p(cc.Prefab)],e.prototype,"toastPrefab",void 0),r([p(cc.Node)],e.prototype,"toastContainer",void 0),r([p(cc.Node)],e.prototype,"startPosition",void 0),r([p],e.prototype,"showHeight",void 0),r([p],e.prototype,"showDuration",void 0),o=r([h],e)}(cc.Component);o.default=f,function(t){t[t.Info=0]="Info",t[t.Warning=1]="Warning",t[t.Error=2]="Error",t[t.Success=3]="Success"}(s=o.ToastType||(o.ToastType={})),cc._RF.pop()},{"./ToastItemController":"ToastItemController","typescript-collections":16}],ToastItemController:[function(t,e,o){"use strict";cc._RF.push(e,"9136dFjQP1O1LBYWx1MBmBy","ToastItemController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtContent=null,e}return i(e,t),e.prototype.SetData=function(t,e){this.txtContent.node.color=e,this.txtContent.string=t},r([a(cc.Label)],e.prototype,"txtContent",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"ad282elfCdFuK58MUtp8mED","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var n=t("typescript-collections"),i=cc.Vec3,r=function(t,e,o,i,r,s){this.countryCode=t,this.symbol=e,this.format=o,this.decimalSeperator=i,this.thousandSeperator=r,this.realMoneyToChipMultiplier=s,this.abbrevations=new n.Dictionary,this.abbrevations.setValue(1e3,"K"),this.abbrevations.setValue(1e6,"M"),this.abbrevations.setValue(1e9,"B"),this.abbrevations.setValue(1e12,"T"),this.abbrevations.setValue(1e15,"Q")},s=function(){function t(){}return t.numberWithCommas=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.FormatChip=function(t,e){if(void 0===e&&(e=!0),e)for(var o=Math.abs(t),n=this.currencySetting.abbrevations.size()-1;n>=0;n--){var i=this.currencySetting.abbrevations.keys()[n],r=this.currencySetting.abbrevations.values()[n];if(o>=i){var s=Math.fround(o/i);return Number(s.toFixed(2))+r}}return this.numberWithCommas(t)},t.FormatChipForProfile=function(t){for(var e=Math.abs(t),o=this.currencySetting.abbrevations.size()-1;o>=0;o--){var n=this.currencySetting.abbrevations.keys()[o],i=this.currencySetting.abbrevations.values()[o];if(e>=n){var r=o-1;r>=0&&(n=this.currencySetting.abbrevations.keys()[r],i=this.currencySetting.abbrevations.values()[r]);var s=Math.round(e/n);return this.numberWithCommas(s)+i}}return"0"},t.FormatRangeChipForLabel=function(t,e,o,n){var i=this;if(void 0===o&&(o=.2),void 0===n&&(n=!0),t){var r=this.labelFormatChipTweenData.find(function(e){return e.label===t});r||(r={label:t,tweenInterval:null,fromValue:0,toValue:0},this.labelFormatChipTweenData.push(r)),r.tweenInterval&&clearInterval(r.tweenInterval),r.fromValue=r.toValue,r.toValue=e;var s=0;t.string=this.FormatChip(r.fromValue,n),r.tweenInterval=setInterval(function(){s+=.01;var e=Math.min(1,s/o);t.string=i.FormatChip(r.fromValue+(r.toValue-r.fromValue)*e,n),s>=o&&(clearInterval(r.tweenInterval),r.tweenInterval=null)},.01)}},t.FormatChipForLabel=function(t,e,o){void 0===o&&(o=!0),t.string=this.FormatChip(e,o)},t.FormatEarningForLabel=function(t,e,o){void 0===o&&(o=!0),t.string=this.FormatChip(e,o),t.node.color=e>0?cc.Color.GREEN:e<0?cc.Color.RED:cc.Color.WHITE},t.getRandom=function(t){return t.length<=0?null:t[this.randomRangeInt(0,t.length)]},t.getParamFromUrl=function(t){var e=window.location.href;return new URL(e).searchParams.get(t)},t.randomRange=function(t,e){return Math.random()*(e-t)+t},t.shuffle=function(t){for(var e,o,n=t.length;0!==n;)o=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[o],t[o]=e;return t},t.randomRangeInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)},t.randomVec3=function(t){return new i(this.randomRange(0,1)*t,this.randomRange(0,1)*t,this.randomRange(0,1)*t)},t.navigateTo=function(t){var e=window.location.origin;window.location.href=e+t},t.currencySetting=new r("SG","$","{0}{1}",".",",",1),t.labelFormatChipTweenData=[],t}();o.Utils=s,cc._RF.pop()},{"typescript-collections":16}],XocDiaGameplayController:[function(t,e,o){"use strict";cc._RF.push(e,"36d4dKpfkdFmLk8qVfF6SOs","XocDiaGameplayController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../networking/APIConnector"),c=t("../../DataManager"),a=t("../../utils/Utils"),l=t("./XocDiaHistoryItem"),u=t("../common/ToastController"),h=t("../base/GameplayControllerBase"),p=cc._decorator,f=p.ccclass,d=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprResultDots=[],e.whiteColor=cc.Color.WHITE,e.blackColor=cc.Color.WHITE,e.txtHistoryFourWhiteRate=null,e.txtHistoryFourBlackRate=null,e.txtHistoryOneWhiteRate=null,e.txtHistoryOneBlackRate=null,e.txtHistoryEvenRate=null,e.txtHistoryOddRate=null,e.historyItemPrefab=null,e.historyItemContainer=null,e.ApiGetGameInfo="/minigame/xd-game/game-info",e.ApiGetHistory="/minigame/xd-game/history100",e.ApiRequestBet="/minigame/xd-game/bet",e.historyTotalFourWhiteGames=0,e.historyTotalFourBlackGames=0,e.historyTotalOneWhiteGames=0,e.historyTotalOneBlackGames=0,e.historyTotalEvenGames=0,e.historyTotalOddGames=0,e.historyTotalGames=0,e}return i(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.txtHistoryFourWhiteRate.string="0%",this.txtHistoryFourBlackRate.string="0%",this.txtHistoryOneWhiteRate.string="0%",this.txtHistoryOneBlackRate.string="0%",this.txtHistoryEvenRate.string="0%",this.txtHistoryOddRate.string="0%"},e.prototype.showResult=function(){var t=this;if(this.currentGameInfo.result){for(var e=this.randomResult(this.currentGameInfo.result.resultType),o=0;o<this.sprResultDots.length;o++)this.sprResultDots[o].node.color=0===e[o]?this.whiteColor:this.blackColor;var n=new s.XocDiaResponseHistoryRecord;n.matchNo=this.currentGameInfo.matchNo,n.resultType=this.currentGameInfo.result.resultType,this.addHistoryRecord(n),this.currentGameInfo.result.listBetTypeWin.forEach(function(e){var o=t.getPanel(e);null==o||o.setWinEffect(!0)})}},e.prototype.createBetRequest=function(){var t,e=new s.RequestBet;return e.ccy=null!==(t=c.default.Instance.userBalance.ccy)&&void 0!==t?t:"VND",e.listBetItems=[],this.pendingBetData.forEach(function(t){var o=new s.ResponseBetItem;o.betType=t.id,o.betAmt=t.totalBetAmount,e.listBetItems.push(o)}),e},e.prototype.canBetOnPanel=function(e){return"ODD"===e.id&&(this.pendingBetData.find(function(t){return"EVEN"===t.id})||this.getPanel("EVEN").totalMyConfirmedBetAmount>0)||"EVEN"===e.id&&(this.pendingBetData.find(function(t){return"ODD"===t.id})||this.getPanel("ODD").totalMyConfirmedBetAmount>0)?(u.default.Instance.showToast("Kh\xf4ng th\u1ec3 \u0111\u1eb7t c\u01b0\u1ee3c v\xe0o CH\u1eb4N v\xe0 L\u1eba",u.ToastType.Error),!1):t.prototype.canBetOnPanel.call(this,e)},e.prototype.addHistoryRecord=function(t){var e=cc.instantiate(this.historyItemPrefab).getComponent(l.default);switch(e.node.active=!0,e.node.setParent(this.historyItemContainer),e.node.setSiblingIndex(0),e.setup(this.randomResult(t.resultType)),t.resultType){case"FOUR_BLACK":this.historyTotalFourBlackGames++,this.historyTotalEvenGames++;break;case"ONE_BLACK":this.historyTotalOneBlackGames++,this.historyTotalOddGames++;break;case"ONE_WHITE":this.historyTotalOneWhiteGames++,this.historyTotalOddGames++;break;case"TWO_TWO":this.historyTotalEvenGames++;break;case"FOUR_WHITE":this.historyTotalFourWhiteGames++,this.historyTotalEvenGames++}this.historyTotalGames++,this.txtHistoryFourWhiteRate.string=(this.historyTotalFourWhiteGames/this.historyTotalGames*100).toFixed()+"%",this.txtHistoryFourBlackRate.string=(this.historyTotalFourBlackGames/this.historyTotalGames*100).toFixed()+"%",this.txtHistoryOneWhiteRate.string=(this.historyTotalOneWhiteGames/this.historyTotalGames*100).toFixed()+"%",this.txtHistoryOneBlackRate.string=(this.historyTotalOneBlackGames/this.historyTotalGames*100).toFixed()+"%";var o=this.historyTotalEvenGames/this.historyTotalGames*100,n=100-o;this.txtHistoryEvenRate.string=o.toFixed()+"%",this.txtHistoryOddRate.string=n.toFixed()+"%"},e.prototype.randomResult=function(t){var e=[],o=4;switch(t){case"FOUR_BLACK":o=0;break;case"ONE_WHITE":o=1;break;case"TWO_TWO":o=2;break;case"ONE_BLACK":o=3;break;case"FOUR_WHITE":o=4}for(var n=0;n<4;n++)e.push(n<o?0:1);return a.Utils.shuffle(e),e},r([d([cc.Sprite])],e.prototype,"sprResultDots",void 0),r([d(cc.Color)],e.prototype,"whiteColor",void 0),r([d(cc.Color)],e.prototype,"blackColor",void 0),r([d(cc.Label)],e.prototype,"txtHistoryFourWhiteRate",void 0),r([d(cc.Label)],e.prototype,"txtHistoryFourBlackRate",void 0),r([d(cc.Label)],e.prototype,"txtHistoryOneWhiteRate",void 0),r([d(cc.Label)],e.prototype,"txtHistoryOneBlackRate",void 0),r([d(cc.Label)],e.prototype,"txtHistoryEvenRate",void 0),r([d(cc.Label)],e.prototype,"txtHistoryOddRate",void 0),r([d(cc.Prefab)],e.prototype,"historyItemPrefab",void 0),r([d(cc.Node)],e.prototype,"historyItemContainer",void 0),r([f],e)}(h.GameplayControllerBase);o.default=y,cc._RF.pop()},{"../../DataManager":"DataManager","../../networking/APIConnector":"APIConnector","../../utils/Utils":"Utils","../base/GameplayControllerBase":"GameplayControllerBase","../common/ToastController":"ToastController","./XocDiaHistoryItem":"XocDiaHistoryItem"}],XocDiaHistoryItem:[function(t,e,o){"use strict";cc._RF.push(e,"67ec7Ji/HdHZaDyhWI5Q/Ol","XocDiaHistoryItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,c=cc._decorator.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dots=[],e.whiteColor=cc.Color.WHITE,e.blackColor=cc.Color.WHITE,e}return i(e,t),e.prototype.setup=function(t){for(var e=0;e<this.dots.length;e++)this.dots[e].node.color=0==t[e]?this.whiteColor:this.blackColor},r([c([cc.Sprite])],e.prototype,"dots",void 0),r([c(cc.Color)],e.prototype,"whiteColor",void 0),r([c(cc.Color)],e.prototype,"blackColor",void 0),r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["DataManager","PopupBase","PopupControllerBase","ChipInfo","HooHeyHowDiceInfo","LoadingCanvas","ResourceManager","BetPanelBase","GameplayControllerBase","GameplayProfileController","GameplayResultPanelController","GameplayResultPanelItem","ChipObject","ChipObjectUtils","ChipPoolController","ChipSelectionGroup","ChipSelectionItem","ToastController","ToastItemController","HooHeyHowGameplayController","HooHeyHowHistoryItem","LotteryScratchGameplayController","LotteryScratchHistoryController","LotteryScratchHistoryItem","LotteryScratchPrizeResultController","LotteryScratchPrizeRow","LotteryScratchRuleController","LotteryScratchScratchController","LotteryScratchTicket","LotteryScratchTopPrizeRow","LotteryScratchWinEffectController","XocDiaGameplayController","XocDiaHistoryItem","APIConnector","ArrayUtils","Callback","ColorAssembler2D","ColorOverTime","LayoutChildrenVertically","LiteEvent","MultipleScreenSizeHelper","NodeUtils","RotateOverTime","Utils"]);